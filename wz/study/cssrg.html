<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0,user-scalable=no"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><title>css径向渐变 | Mirror Space</title><link href=/mirrorui/mirrorui.css rel=stylesheet><link href=/mirroricon/mirroricon.css rel=stylesheet><link href=/asset/css/blog.css rel=stylesheet><div class=layout><div class=layout-part1></div><div class="layout-part2 layout-doc"><div id=page_content><div class=wz-page><style>.demo{display:inline-block;width:100px;height:100px}.demo-2x{width:200px}.rg-1{background-image:radial-gradient(red,skyblue)}.rg-2{background-image:radial-gradient(at 150px 70px,red,skyblue)}.rg-3{background-image:radial-gradient(circle,red,skyblue)}.rg-4{background-image:radial-gradient(ellipse 40px 20px,red,skyblue)}.rg-5{background-image:radial-gradient(circle 25px at 25px 25px,red,transparent),radial-gradient(ellipse 50px 25px at 150px 75px,red,skyblue)}.rg-6{background-image:radial-gradient(ellipse closest-corner at 80px 40px,pink,black)}.rg-7{background-image:radial-gradient(ellipse closest-side at 80px 40px,pink,black)}.rg-8{background-image:radial-gradient(ellipse farthest-corner at 80px 40px,pink,black)}.rg-9{background-image:radial-gradient(ellipse farthest-side at 80px 40px,pink,black)}.rg-10{background-image:radial-gradient(red,orange,yellow,green,skyblue,blue,purple)}.rg-11{background-image:radial-gradient(at 60% 70%,red,orange,yellow,green,skyblue,blue,purple)}.rg-12{background-image:radial-gradient(red 10%,orange 20% 40%,yellow 45% 50%,green 60% 70%,skyblue)}.rg-13{background-image:radial-gradient(ellipse farthest-side at 10% 30%,red 10%,orange 20%,yellow 50%,green 80%,skyblue)}.rg-14{background-image:radial-gradient(ellipse farthest-side,red 5%,green 5% 15%,blue 15% 30%,pink 30% 50%,orange 50% 70%,purple 70% 90%,wheat 90%)}.rg-14{background-image:radial-gradient(ellipse farthest-side,red 5%,green 5% 15%,blue 15% 30%,pink 30% 50%,orange 50% 70%,purple 70% 90%,wheat 90%)}.rg-15{background-image:radial-gradient(circle 30px at left top,red 30px,transparent),radial-gradient(circle 30px at right top,green 30px,transparent),radial-gradient(circle 30px at right bottom,yellow 30px,transparent),radial-gradient(circle 30px at left bottom,blue 30px,transparent),radial-gradient(ellipse 100px 10px at center,pink 100px,transparent),radial-gradient(ellipse 10px 50px at center,skyblue 10px,transparent)}.rg-16{background-image:repeating-radial-gradient(at 25% 100%,skyblue 0 2%,transparent 2% 6%),repeating-radial-gradient(at 75% 0,skyblue 0 2%,transparent 2% 6%)}.rg-17{background-image:repeating-radial-gradient(red,15%,black)}.rg-18{background-image:repeating-radial-gradient(red,10px,yellow,30px,skyblue,60px,black)}</style><p><a href=csslg.html target=_blank>线性渐变</a> | 径向渐变 | <a href=csscg.html target=_blank>圆锥渐变</a><h4>简介</h4><p>此文记录下css径向渐变的用法还有几个效果例子<div class=grids><div><span class="demo rg-1 mg-r-10"></span></div><div><span class="demo demo-2x rg-1"></span></div></div><pre class=bg-gray-lt>

    background-image: radial-gradient(red,skyblue);

</pre><br><p>径向渐变是以一点为中心向外辐射.想象一个圆,圆心是辐射点,半径是辐射线.所以谓之径向渐变.<p>像水波实验,在水面上,用棍子垂直于水面插入水中,以插入点为中心,水波向四面八方扩散开了.<div class=grids><div><canvas id=canvas1></canvas></div><div><canvas id=canvas2></canvas></div></div><br><h4>中心点</h4><p>径向渐变的中心点,默认是盒模型中心(50%,50%或center).可以设置为其它位置,设置值是一对left,top值,以盒模型的左上角为原点(0,0).<p>left,top值可以用百分比(如: at 30% 50%),像素(如: at 30px 50px),和方向关键字(如: at bottom left). 可以为负值,即中心点不在盒模型上(如: at -10px -30px)<div class=grids><div><span class="demo demo-2x rg-2"></span></div></div><pre class=bg-gray-lt>

    // 关键值at,后面是left top值
    radial-gradient(at 150px 70px, red,skyblue);

</pre><br><h4>形状</h4><p>渐变形状是一个椭圆,椭圆的长轴和短轴与盒模型的width和height成比例.如果盒模型是正方形,那么形状是个圆.<p>使用关键字 ellipse 指定为椭圆, circle 指定为圆.<div><span class="demo demo-2x rg-3"></span></div><pre class=bg-gray-lt>

    // 盒模型是长方形,默认渐变形状是椭圆,使用circle后,形状是圆形
    radial-gradient(circle, red,skyblue);

</pre><br><h4>范围大小</h4><p>渐变大小可以认为是渐变效果的范围,渐变过渡效果限定在这个范围内显示.<h6>设置半径</h6><p>范围的大小可以改变.比较直观的方法是,为椭圆或圆设定半径.例: ellipse 40px 30px 或 circle 30px<div class=grids><div><span class="demo rg-4 mg-r-10"></span></div><div><span class="demo demo-2x rg-5"></span></div></div><pre class=bg-gray-lt>

    // 40px是椭圆水平半径,20px是垂直半径
    radial-gradient(ellipse 40px 20px, red,skyblue);

    // 圆半径25px(circle半径用百分比好像无效),后面还可以设置圆心位置值.
    radial-gradient(circle 25px at 25px 25px, red,skyblue);

</pre><br><h6>设置关键字</h6><p>使用关键字 closest-corner(最近角) closest-side(最近边) farthest-corner(最远角) farthest-side(最远边)<div class=grids><div><span class="demo demo-2x rg-6 mg-r-10"></span></div><div><span class="demo demo-2x rg-7 mg-r-10"></span></div><div><span class="demo demo-2x rg-8 mg-r-10"></span></div><div><span class="demo demo-2x rg-9"></span></div></div><pre class=bg-gray-lt>

    // 中心 at 80px 40px

    // closest-corner(最近角) closest-side(最近边)
    radial-gradient(ellipse closest-corner at 80px 40px, pink,black);
    radial-gradient(ellipse closest-side, pink,black);

    // farthest-corner(最远角) farthest-side(最远边)
    radial-gradient(ellipse farthest-corner, pink,black);
    radial-gradient(ellipse farthest-side, pink,black);

</pre><br><p>来自MDN上的对关键字的解释:<p>closest-side: 渐变的结束形状与最接近其中心的框的边相交(对于圆形)或同时与最接近中心的垂直和水平边相交(对于椭圆).<p>closest-corner: 渐变的结束形状的大小使其恰好与距离其中心最近的框的角相交<p>farthest-side: 类似于closest-side,除了结束形状的大小与距离其中心最远的盒子的一侧(或垂直和水平边)相接<p>farthest-corner: 默认值,渐变的结束形状的大小使其恰好与距离其中心的盒子最远的角相接<h6>原理猜测</h6><p>关键字原理猜测: 近/远 | 边/角范围,是指渐变中心点到盒模型的边/角的范围.<p>图例: 盒模型(天蓝矩形 : 180px X 90px),渐变中心(红点: 70px,30px),盒模型不旋转.<p>closest-corner: 角A,OA距离最近. closest-side: 边AB. farthest-corner: 角C. farthest-side: 边BC</p><canvas id=canvas3></canvas><br><p>closest-corner(最近角)关键字表示的渐变范围,以下图为例(橘色椭圆),猜测是:<p>1.中心是渐变中心O点 2.顶点A在其上 3.长短轴之比等于盒模型的长宽比例 4.以O点为中心,A为顶点的矩形(蓝色)是其内接矩形.<p>内接矩形特点可能是椭圆内面积最大.长宽已知(根据中心left:top值).那么,最近角关键字的计算规则可能是,求这个矩形的外接椭圆,符合上面的4个条件.</p><canvas id=canvas4></canvas><br><p>closest-side(最近边)关键字表示的渐变范围,以下图为例(红色椭圆),猜测是:<p>1.中心是渐变中心O点 2.边AB与其相切 3.O点与AB的距离是椭圆的水平或竖直半径(如果AB是盒模型的top或bottom边,那么就是竖直半径) 4.长短轴之比等于盒模型的长宽比例 5.以O点为中心,长短轴2倍为长宽的矩形(蓝色)是其外接矩形.<p>最近边的计算猜测是,以O点到边的距离为短/长轴,这是已知的(根据中心left:top值),那么另一个短/长轴也就确定了.这比最近/远角的计算似乎容易些.</p><canvas id=canvas5></canvas><br><p>最远角/边的理解同理.<p>对于角,渐变范围的椭圆会包含这个角.对于边,椭圆会与边相切.<p>必须清楚的关键点: 椭圆的长短轴比例,等于盒模型的长宽比例.<p>如果是圆形(circle),也同理.半径只有一个,变得简单了.<h4>颜色</h4><p>同线性渐变一样,可以多个的.<div class=grids><span class="demo rg-10 mg-r-10"></span> <span class="demo demo-2x rg-11"></span></div><h4>位置</h4><p>与线性渐变一样,也可以设置每个颜色的渐变起止位置.<p>(来自MDN). 颜色停止点位于从中心向右水平延伸的虚拟渐变射线上.基于百分比的颜色停止位置相对于结束形状和此渐变射线之间的交点,它表示100%. 每个形状都是由它相交的渐变射线上的颜色确定的单一颜色</p><canvas id=canvas6></canvas><p>上图,红心是渐变中心,最大椭圆(蓝)是渐变范围.水平射线OX,从中心射出,与椭圆(蓝)交点.OX的起点O就是渐变颜色起点(0%),交点X就是终点(100%).在整个椭圆360度方向上<div class=grids><span class="demo rg-12 mg-r-10"></span> <span class="demo demo-2x rg-13"></span></div><pre class=bg-gray-lt>

    // 2个颜色位
    radial-gradient(red 10%,orange 20% 40%,yellow 45% 50%,green 60% 70%,skyblue);
    // 1个颜色位,范围到最远边
    radial-gradient(ellipse farthest-side at 10% 30%,red 10%,orange 20%,yellow 50%,green 80%,skyblue);

</pre><br><h6>渐变(颜色)分界点</h6><p>在两个颜色之间设置位置值,与线性渐变类似,但没发现该值与两个颜色间的联系.<div class=grids><span class="demo rg-17 mg-r-10"></span> <span class="demo demo-2x rg-18"></span></div><pre class=bg-gray-lt>

    // 在15%处
    repeating-radial-gradient(red,15%,black);
    // 10px,30px,60px,3个渐变分界线
    repeating-radial-gradient(red,10px,yellow,30px,skyblue,60px,black);

</pre><br><h4>几点记录</h4><p>使用 circle 关键字时,半径值用百分比无效. circle 30%(无效)<p>如果渐变范围设定为n(如50px),首个颜色位置也设定为n,那么其它颜色就没有渐变的地方了,图案只显示首个颜色(50px范围)和最后一个颜色(盒模型剩余范围)<p>渐变范围可以设定一个具体值,然后使用百分比就比较方便.例如,一个盒模型 100px X 100px,要在10等分处渐变,那么可以将范围设为100px,再设置10%为渐变位置值.显而易见的,用百分比的好处是,改变了盒模型大小,渐变效果会按比例变化.虽然有默认范围最远角,但这个值含糊,而显示的设定一个具体值的范围比较好!尤其是需要精确计算比例时.<h4>示例</h4><p>依然是使用突变/叠加/重复做出图案.<h6>色环</h6><div><span class="demo rg-14"></span></div><pre class=bg-gray-lt>

    radial-gradient(ellipse farthest-side,red 5%,green 5% 15%,blue 15% 30%,pink 30% 50%,orange 50% 70%,purple 70% 90%,wheat 90%);

</pre><br><h6>叠加</h6><div><span class="demo demo-2x rg-15"></span></div><pre class=bg-gray-lt>

    radial-gradient(circle 30px at left top,red 30px,transparent),
    radial-gradient(circle 30px at right top,green 30px,transparent),
    radial-gradient(circle 30px at right bottom,yellow 30px,transparent),
    radial-gradient(circle 30px at left bottom,blue 30px,transparent),
    radial-gradient(ellipse 100px 10px at center,pink 100px,transparent),
    radial-gradient(ellipse 10px 50px at center,skyblue 10px,transparent);

</pre><br><h6>径向重复渐变</h6><p>使用函数 repeating-radial-gradient()<p>水波纹干涉<div><span class="demo demo-2x rg-16"></span></div><pre class=bg-gray-lt>

    repeating-radial-gradient(at 25% 100%,skyblue 0 2%,transparent 2% 6%),
    repeating-radial-gradient(at 75% 0,skyblue 0 2%,transparent 2% 6%);

</pre><br></div><hr class=line><script src=/asset/js/article.js></script><script src=/cavlib/cavlib.js></script><script>(()=>{function t(){var t,i;let r=cavlib("canvas1").style(),n=r.ctx;for(n.canvas.width=150,n.font="18px serif",n.translate(75,75),n.fillStyle=n.strokeStyle="blue",n.arc(0,0,5,0,Math.PI*2),n.fill(),t=0;t<360;t+=20){let r=Math.PI*t/180;for(n.save(),n.rotate(r),n.beginPath(),i=0;i<3600;i++){let t=i*Math.PI/180,r=Math.sin(t);n.lineTo(t,3*r)}n.stroke();n.restore()}}function i(){var t,i;let r=cavlib("canvas2").style(),n=r.ctx;for(n.canvas.width=150,n.font="18px serif",n.translate(75,75),n.fillStyle=n.strokeStyle="skyblue",n.arc(0,0,5,0,Math.PI*2),n.fill(),t=10;t<70;t+=10){for(n.beginPath(),i=0;i<360;i++){let r=i*Math.PI/180,u=1.5*Math.cos(22*r)+t,f=u*Math.cos(r),e=u*Math.sin(r);n.lineTo(f,e)}n.stroke()}}function r(){let i=cavlib("canvas3").style(),t=i.ctx;t.font="18px serif";let f=180,e=90,r=70,u=30;n(t,i,f,e,r,u);t.save();t.translate(-f/2,-e/2);t.translate(r,u);t.beginPath();t.fillStyle=t.strokeStyle="orangered";i.lineArrow([0,0,-r,-u],12,5);t.fillStyle=t.strokeStyle="darkgreen";i.lineArrow([0,0,0,-u],12,5);t.fillStyle=t.strokeStyle="blue";i.lineArrow([0,0,f-r,e-u],12,5);t.fillStyle=t.strokeStyle="purple";i.lineArrow([0,0,f-r,0],12,5);t.restore()}function u(){let e=cavlib("canvas4").style(),t=e.ctx;t.font="18px serif";let u=180,f=90,r=70,i=30;n(t,e,u,f,r,i);t.save();t.translate(-u/2,-f/2);t.translate(r,i);let o=i+17,s=o*(u/f);t.beginPath();t.strokeStyle="orangered";t.ellipse(0,0,s,o,0,0,Math.PI*2);t.stroke();t.restore();t.save();t.translate(-u/2,-f/2);t.translate(r,i);t.beginPath();t.strokeStyle="blue";t.rect(-r,-i,2*r,2*i);t.stroke()}function f(){let s=cavlib("canvas5").style(),t=s.ctx;t.font="18px serif";let i=180,r=90,e=70,u=30;n(t,s,i,r,e,u);t.save();t.translate(-i/2,-r/2);t.translate(e,u);let f=u,o=f*(i/r);t.beginPath();t.strokeStyle="red";t.ellipse(0,0,o,f,0,0,Math.PI*2);t.stroke();t.restore();t.save();t.translate(-i/2,-r/2);t.translate(e,u);t.beginPath();t.strokeStyle="blue";t.rect(-o,-f,2*o,2*f);t.stroke()}function e(){let t=cavlib("canvas6").style(),n=t.ctx;n.font="18px serif";n.translate(150,75);n.beginPath();n.arc(0,0,4,0,Math.PI*2);n.fillStyle="red";n.fill();let r=[[30,15,"red"],[65,35,"green"],[100,62,"blue"]];for(var i=0,u=r.length;i<u;i++){let t=r[i];n.beginPath();n.ellipse(0,0,t[0],t[1],0,0,Math.PI*2);n.strokeStyle=t[2];n.stroke()}n.strokeStyle=n.fillStyle="black";t.lineArrow([0,0,120,0]);t.lineArrow([0,0,20,65]);t.lineArrow([100,0,120,65]);n.fillStyle="red";n.fillText("0%",30,72);n.fillText("100%",75,72);n.fillText("O",-15,5);n.fillText("X",105,-5)}function n(n,t,i,r,u,f){let e=150,o=75;n.translate(e,o);n.save();n.setLineDash([5]);n.fillStyle="gray";t.lineArrow([-e,0,e-10,0]);t.lineArrow([0,o,0,-o+10]);n.restore();n.beginPath();n.rect(-i/2,-r/2,i,r);n.strokeStyle="skyblue";n.stroke();n.fillStyle="green";n.fillText("A",-i/2-15,-r/2);n.fillText("B",i/2+5,-r/2);n.fillText("C",i/2+5,r/2+15);n.fillText("D",-i/2-15,r/2+15);n.save();n.translate(-i/2,-r/2);n.beginPath();n.arc(u,f,4,0,Math.PI*2);n.fillStyle="red";n.fill();n.fillText("O",u+5,f-5);n.restore()}t();i();r();u();f();e()})(window)</script></div><div class=nav-page-inside><h6 class=text-center>本文内容</h6><div class=layout-v id=navOfInPage></div></div></div></div><script src=/asset/js/mainmenu.js></script><script src=/asset/js/navinpage.js></script>