<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0,user-scalable=no"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><title>深入理解计算机系统 | 兰德尔.布莱恩特 大卫.哈利嗯 | Mirror Space</title><link href=/mirrorui/mirrorui.css rel=stylesheet><link href=/mirroricon/mirroricon.css rel=stylesheet><link href=/asset/css/blog.css rel=stylesheet><div class=layout><div class=layout-part1></div><div class=layout-part2><div class=wz-page><p>书名: <strong>深入理解计算机系统 Computer Systems: A Programmer's Perspective</strong> 作者: <strong>Randal E.Bryant 兰德尔.布莱恩特/ David O'Hallaron 大卫.哈利嗯</strong><h4>片段记录</h4><h6>第1章 计算机系统漫游</h6><p>通过这个简单的示例我们了解到重要的一课,那就是系统花费了大量的时间把信息从一个地方挪到另一个地方.hello程序的机器指令最初是存放在磁盘上的.当程序加载时,它们被拷贝到主存.当处理器运行程序时,指令又从主存拷贝到处理器.相似地,数据串"hello,world\n"开始时在磁盘上,再被拷贝到主存,然后从主存上拷贝到显示设备.从一个程序员的角度来看,大量的拷贝减慢了程序的实际工作.因此,系统设计者的一个主要目标就是使这些拷贝操作尽可能的快.</p><canvas id=canvas1></canvas><p>存储器分层结构的主要思想是一个层次上的存储器作为下一层次上的存储器的高速缓存.因此,寄存器文件就是L1的高速缓存,而L1又是L2的高速缓存,L2是主存的高速缓存,主存是磁盘的高速缓存.在某些带分布式文件系统的网络系统中,本地磁盘就是其他系统中磁盘上被存储数据的高速缓存.<p>操作系统有两个基本功能:防止硬件被失控的应用程序滥用;在控制复杂而又通常广泛不同的低级硬件设备方面,为应用程序提供简单一致的方法.操作系统通过图1.11中显示的几个基本的抽象概念(进程|虚拟存储器和文件)实现这两个功能.如图1.11所示,文件是对I/O设备的抽象表示,虚拟存储器是对主存和磁盘I/O设备的抽象表示,进程则是对处理器|主存和I/O设备的抽象表示.<p>进程是操作系统对运行程序的一种抽象.在一个系统上可以同时运行多个程序,而每个进程都好像在独占地使用硬件.<h6>第2章 信息的表示和处理</h6><p>单独地来说,单个的位不是非常有用.然而,当我们把位组合在一起,再加上某种解释(interpretation),即给予不同的可能位模式以含意,我们就能够表示任何有限集合的元素.<p>每台计算机都有一个字长(word size),指明整数和指针数据的标称大小(nominal size).因为虚拟地址是以这样的字来编码的,所以字长决定的最重要的系统参数就是虚拟地址空间的最大大小.也就是说,对于一个字长为n位的机器而言,虚拟地址的范围为0~2^n-l,程序最多访问2^n字节.<p>可以通过执行命令man ascii来得到一张ASCII字符码的表<p>计算机系统的一个基本概念就是从机器的角度来看,程序仅仅是字节序列<p>假定我们仅考虑有限长度的编码,那么十进制符号是不能准确地表达像1/3和5/7这样的数的.类似地,小数的二进制表示法只能表示那些能够被写成 x*2^y 的数.其它的值只能够被近似地表示.<p>IEEE浮点标准用 V = (-1)^s * M * 2^E 的形式表示一个数<ul class=list><li>符号(sign)s决定是负数(s=1)还是正数(s=0),而对于数值0的符号位解释作为特殊情况处理<li>有效数(significand)M是一个2进制数小数,它的范围在1~2-ε之间,或者在0~1-ε之间<li>指数(exponent)E是2的幂(可能是负数),它的作用是对浮点数加权</ul><h5>随想</h5><p>2进制与16进制转换,每一个16进制数转换成4位2进制.例如 0x173a4c ,6位16进制数,可以选一个顺序,从右到左,每个数变成4位2进制.最右边开始: c=1100, 4=0100..最后得到结果.转换规律1111=f,而f是15.也就是说记住2和16进制对应的10进制数就可以了.反过来也是这样,每4个2进制用一个16进制,从右往左,如果左边不够4个,在左边补0.</div><script src=/jslib/cavlib.js></script><script>(()=>{function n(){let e=cavlib("canvas1").style(),n=e.ctx,u=480,f=360;n.canvas.width=u;n.canvas.height=f;n.font="16px serial";t(n,u,f);i(n,u,f);r(n,e,u,f)}function t(n,t,i){var u;n.save();n.moveTo(t/2,0);n.lineTo((t-i)/2,i);n.lineTo((t+i)/2,i);n.closePath();n.clip();n.beginPath();n.moveTo(t/2,4);n.lineTo((t-i)/2+2,i-4);n.lineTo((t+i)/2-2,i-4);n.closePath();n.stroke();n.beginPath();let r=(i-8)/6;for(u=0;u<5;u++){let i=(u+1)*r+4;n.moveTo(0,i);n.lineTo(t,i)}n.stroke();n.restore();let f=["寄存器","芯片上的L1高速缓存(SRAM)","芯片外的L2高速缓存(SRAM)","主存储器(DRAM)","本地二级存储(本地磁盘)","远程二级存储(分布式文件系统,Web服务器)"],e=t/2;for(n.save(),n.textAlign="center",n.beginPath(),n.fillText(f[0],e,r),n.beginPath(),n.fillText(f[1].substr(0,6),e,2*r-(r-16)/2),n.fillText(f[1].substr(6),e,2*r),n.beginPath(),n.fillText(f[2].substr(0,6),e,3*r-(r-16)/2),n.fillText(f[2].substr(6),e,3*r),u=3;u<f.length;u++){n.beginPath();let t=(u+1)*r-(r-16)/2;n.fillText(f[u],e,t)}n.restore()}function i(n,t,i){let u=(i-8)/6,f=u/2;for(var r=0;r<6;r++){n.beginPath();let i=(r+1)*u-(u-16)/2;n.fillText("L"+r+":",t/2+(r+1)*f,i)}}function r(n,t,i,r){var f;let e=(r-8)/6,u=16;t.lineArrow([u,e*2.5,u,u]);let o=["更小","更快","(每字节)","更贵的","存储设备"];for(f=0;f<o.length;f++)n.beginPath(),n.fillText(o[f],u*1.6,(f+3)*u);t.lineArrow([u,e*3.5,u,r-2*u]);let s=["更大","更慢","(每字节)","更便宜的","存储设备"];for(f=0;f<s.length;f++)n.beginPath(),n.fillText(s[f],u*1.6,e*3.5+(f+2)*u)}n()})(window)</script></div></div><script src=/asset/js/mainmenu.js></script>