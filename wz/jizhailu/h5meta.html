<!DOCTYPE html><html lang=en><head><meta charset=utf-8 /><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1" /><meta name=viewport content="width=device-width,initial-scale=1.0,user-scalable=no" /><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png /><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png /><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png /><link rel=manifest href=/site.webmanifest /><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5 /><meta name=msapplication-TileColor content=#da532c /><meta name=theme-color content=#ffffff /><title>html5 meta标记 | Mirror Space</title><link href=/mirrorui/mirrorui.css rel=stylesheet /><style scoped>.layout{display:grid;grid-template-columns:210px auto;min-height:100vh}.layout-right{padding:30px}</style></head><body><div class=layout><div class=layout-left><link href=/asset/css/mainmenu.css rel=stylesheet /><div class=mainmenu><div class=logobox><img src=/asset/img/logo.jpg class=logoimg /></div><h3>Mirror Space</h3><hr class=line /><a href=/index.html><h4>Home</h4></a> <a href=/about.html><h4>About</h4></a> <a href=/projectinfo.html><h4>Info</h4></a><div class=theme id=themebox><span onclick=changetheme(1) class="btn link sm">白天sun</span> <span onclick=changetheme(2) class="btn link sm">夜晚moon</span><br /> <span onclick=changefontsize(14) class="btn link sm">A</span> <span onclick=changefontsize(16) class="btn link sm">AA</span> <span onclick=changefontsize(20) class="btn link sm">AAA</span></div></div><script src=/asset/js/mainmenu.js></script></div><div class=layout-right><div class=wz-page><div><div id=article_headerbox></div><a onclick=window.history.back() class="btn link danger">返回上页</a><hr class=line /></div><script src=/asset/js/article.js></script><script>(()=>{let f=window.location.pathname,u=f.split("/"),e="article_"+u[2],t=JSON.parse(window.sessionStorage.getItem(e)),i=u[3].replace(".html",""),n={};n.t=t[i][0];n.d=t[i][1];n.a=t[i][2];let r=`<h1 class="text-center">${n.t}</h1>`;r+=`<h5>作者:&emsp;<span></span>${n.a}</h5>`;r+=`<h5>日期:&emsp;<span></span>${n.d}</h5>`;let o=window.document.querySelector("#article_headerbox");o.innerHTML=r})()</script><h2>viewport</h2><p>视口概念 <a href=https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts target=_blank>https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts</a></p><p>视口(viewport)代表当前可见的计算机图形区域.在 Web 浏览器术语中,通常与浏览器窗口相同,但不包括浏览器的 UI,</p><p>菜单栏等——即指你正在浏览的文档的那一部分.概括地说,viewport 基本上是当前文档的可见部分.</p><h3>查看视口大小</h3><p>document.documentElement.clientWidth /* 1920 */</p><p>window.innerWidth /* 1920 */</p><p>window.outerWidth /* 1920 */</p><p>文档的 Element.clientWidth 是指一个文档使用 CSS pixels 单位表示的内部宽度, 包括其 padding</p><p>(不包括 borders, margins 或垂直滚动条,如果有的话). 这就是 <strong>viewport</strong> 的宽度</p><p>Window.innerWidth 是用 CSS pixels 单位表示的浏览器窗口 viewport 宽度,包括垂直滚动条,如果渲染了的话</p><p>Window.outerWidth 是指包括了浏览器外边框的窗口宽度.</p><h3>innerWidth与outerWidth</h3><p>innerWidth 和 outerWidth 是相同的,但是 outerHeight 比 innerHeight 高100px.这是因为 outerHeight</p><p>的测量包括浏览器框架在内,包括了地址栏和书签栏总共 100px 的高度,而浏览器没有左右边框.</p><p>innerHeight 和 innerWidth 所组成的区域通常被认为是布局视口(layout viewport) .</p><p>浏览器的框架不被认为是 viewport 的一部分.</p><h3>布局视口 和 视觉视口</h3><p>Web 浏览器包含两个 viewport,布局视口(layout viewport)和视觉视口(visual viewport).</p><p>visual viewport 指当前浏览器中可见的部分,并且可以变化.当使用触屏双指缩放,当动态键盘在手机上弹出的时候,</p><p>或者之前隐藏的地址栏变得可见的时候,visual viewport 缩小了,但是 layout viewport 却保持不变.</p><h2>viewport content</h2><p>参考:<a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta target=_blank>https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</a></p><h4>示例</h4><p>&lt;meta name="viewport" content="width=device-width,initial-scale=1.0"></p><table class="table hover border"><tr><th>键</th><th>值</th><th>描述</th></tr><tr><td><code>width</code></td><td>正整数或文本 <code>device-width</code></td><td>定义要在其上呈现网站的视口的像素宽度.</td></tr><tr><td><code>height</code></td><td>正整数或文本 <code>device-height</code></td><td>定义视口的高度.未被任何浏览器使用.</td></tr><tr><td><code>initial-scale</code></td><td><code>0.0</code>与之间的正数<code>10.0</code></td><td>定义设备宽度(<code>device-width</code>在纵向模式或<code>device-height</code>横向模式下)和视口大小之间的比率.</td></tr><tr><td><code>maximum-scale</code></td><td><code>0.0</code>与之间的正数<code>10.0</code></td><td>定义放大的最大数量.它必须大于或等于,<code>minimum-scale</code>否则行为未定义.浏览器设置可以忽略此规则,iOS10 +默认情况下会忽略它.</td></tr><tr><td><code>minimum-scale</code></td><td><code>0.0</code>与之间的正数<code>10.0</code></td><td>定义最小缩放级别.它必须小于或等于,<code>maximum-scale</code>否则行为是不确定的.浏览器设置可以忽略此规则,iOS10 +默认情况下会忽略它.</td></tr><tr><td><code>user-scalable</code></td><td><code>yes</code> 要么 <code>no</code></td><td>如果设置为<code>no</code>,则用户将无法放大网页.默认值为<code>yes</code>.浏览器设置可以忽略此规则,默认情况下,iOS10 +会忽略它.</td></tr></table><p>在移动端,屏幕设备大小固定,常用选项是:"width=device-width","initial-scale=1.0","user-scalable=no"</p><p>视口宽度设为移动设备屏幕设备宽度,初始缩放比例1.0,禁止缩放浏览器.在移动设备上,是不希望有横向滚动条的.</p><h2>测试检验</h2><h4>使用谷歌浏览器的仿真手机设备,选iPhone6/7/8/plus.</h4><p>1.1 测试"width=device-width"</p><table class="table border-all"><tr><td>meta设定</td><td colspan=2>&lt;meta name="viewport" content="<b>width=device-width</b>,user-scalable=no"></td></tr><tr><td>最宽元素</td><td colspan=2>&lt;div style="width:720px"></td></tr><tr><td>视口大小</td><td>window.innerWidth [ <b>414</b> ]</td><td>window.innerHeight [ <b>736</b> ]</td></tr></table><br /><p>1.2 测试"width=300"</p><table class="table border-all"><tr><td>meta设定</td><td colspan=2>&lt;meta name="viewport" content="<b>width=300</b>,user-scalable=no"></td></tr><tr><td>最宽元素</td><td colspan=2>&lt;div style="width:720px"></td></tr><tr><td>视口大小</td><td>window.innerWidth [ <b>300</b> ]</td><td>window.innerHeight [ <b>534</b> ]</td></tr></table><br /><p>测试1.1的结果说明,手机屏幕宽度"device-width"的值是 414 ,因为设置了"width=device-width"</p><p>测试1.2得到 300X534 因为设置了"width=300" 而534是由比例计算得到. (300*414)/736=534 这是应该是设备自动在维持414X736的比例</p><p>2.1 测试"user-scalable=yes"</p><table class="table border-all"><tr><td>meta设定</td><td colspan=2>&lt;meta name="viewport" content="width=device-width,<b>user-scalable=yes</b>"></td></tr><tr><td>最宽元素</td><td colspan=2>&lt;<b>div style="width:720px | 320px"</b>></td></tr><tr><td>视口大小</td><td>window.innerWidth [ <b>720 | 414</b> ]</td><td>window.innerHeight [ <b>1279 | 736</b> ]</td></tr></table><br /><p>测试2.1,在网页内容宽度不同时,视口大小不一样.在设定缩放为yes前提下,如果最宽元素宽度不超过width设定的值(414),那么视口宽度仍然</p><p>是"device-width(414)",但是超过时,视口宽度变成了720.这说明视口宽度会根据网页大小自动变化.在测试1.1中,元素最大宽度也是</p><p>720,但视口宽度是414,因为禁止缩放了.</p><p>设置"user-scalable=no"可以避免浏览器自动调整缩放比例而导致的不期望的显示效果</p><p>3.1 测试"initial-scale=0.5"</p><table class="table border-all"><tr><td>meta设定</td><td colspan=2>&lt;meta name="viewport" content="<b>initial-scale=0.5</b>,user-scalable=no"></td></tr><tr><td>最宽元素</td><td colspan=2>&lt;div style="width:720px"></td></tr><tr><td>视口大小</td><td>window.innerWidth [ <b>829</b> ]</td><td>window.innerHeight [ <b>1472</b> ]</td></tr></table><br /><p>测试3.1,视口宽度得到 829,这个值正好是 414X2=828 ,如此看来,缩放比例是基于414的,设置为0.5时,414/0.5=828 同样,高度</p><p>也是如此,736/0.5=1472 那么,414X736是设备的物理尺寸,每种设备都有一个固定的物理尺寸.这个尺寸的特点是,不需要滚动条就能</p><p>看到的范围.如果设置为1.0,则效果等同于"width=device-width",会得到414X736.如果设置为2.0,则会得到 207X368.</p></div></div></div></body></html>