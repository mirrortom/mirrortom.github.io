<!DOCTYPE html><html lang=en><head><meta charset=utf-8 /><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1" /><meta name=viewport content="width=device-width,initial-scale=1.0,user-scalable=no" /><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png /><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png /><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png /><link rel=manifest href=/site.webmanifest /><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5 /><meta name=msapplication-TileColor content=#da532c /><meta name=theme-color content=#ffffff /><title>随机数学习 | Mirror Space</title><link href=/mirrorui/mirrorui.css rel=stylesheet /><link href=/asset/css/blog.css rel=stylesheet /></head><body><div class=layout><div class=layout-part1><a class="mainmenu-onoff d-block d-md-none" onclick=mainmenuonoff()>Ω</a><div id=mainmenubox class="mainmenu d-none d-md-block"><div class=logobox> <img src=/asset/img/logo.jpg class=logoimg /></div><h3 class=pd-5>Mirror Space</h3><hr class=line /><a class=mainmenu-link href=/index.html>Home</a> <a class=mainmenu-link href=/about.html>About</a> <a class=mainmenu-link href=/projectinfo.html>Info</a><div class=theme id=themebox> <a class=mainmenu-btn onclick=changetheme(1)>白天sun</a> <a class=mainmenu-btn onclick=changetheme(2)>夜晚moon</a><br /> <a class=mainmenu-btn onclick=changefontsize(14)>A</a> <a class=mainmenu-btn onclick=changefontsize(16)>AA</a> <a class=mainmenu-btn onclick=changefontsize(20)>AAA</a></div></div><script src=/asset/js/mainmenu.js></script></div><div class=layout-part2><div class=wz-page><div><div id=article_headerbox></div><a onclick=window.history.back() class="btn link danger">返回上页</a><hr class=line /></div><script src=/asset/js/article.js></script><script>(()=>{let f=window.location.pathname,u=f.split("/"),e="article_"+u[2],t=JSON.parse(window.sessionStorage.getItem(e)),i=u[3].replace(".html",""),n={};n.t=t[i][0];n.d=t[i][1];n.a=t[i][2];let r=`<h1 class="text-center">${n.t}</h1>`;r+=`<h5>作者:&emsp;<span></span>${n.a}</h5>`;r+=`<h5>日期:&emsp;<span></span>${n.d}</h5>`;let o=window.document.querySelector("#article_headerbox");o.innerHTML=r})()</script><h4>随机数</h4><p>随机数理论学习,随机数是如何创造的?</p><p>例如这组数 1,35,5664,3,5,6,78,234,675,47</p><p>它们看起来是随意的,里面可能会重复.它们是一个随机数序列.这个序列的顺序是固定的,第1位是1,第2位是35.这个序列是手工写的.</p><p>显然,计算机要使用一种算法来自动生成这个序列,而不是用人工来写.</p><p class="article-title success">中方方法-随机数生成算法</p><p>冯诺依曼提出的中方方法 : 将一个n位数平方,结果表示为2n位数(不够左边补0),取其中间的n位数.这个数就是得到的随机数.</p><p>例如:1234这个数(n=4),平方后是1522756,表示为2n位数是 01522756,中间n位数是 5227 这个数就是由1234得到的随机数</p><p>将上例得到的5227继续采用中方方法会得到下一个随机数,一直这样下去,就产生了很多随机数.于是,通过算法得到了随机数序列.</p><p class=text-danger>这个方法的不足在于,计算出的下一个随机数,可能是0.这样以后的结果就都是0了.明显这是错误的.</p><p class="article-title success">中方方法-计算</p><div class=grids><label class="input-label grid-12 text-left">输入一个数据以计算其中方方法随机数</label><input class="input-text grid-3" type=text id=zfinput /> <span class=btn id=zfBtn>计算</span></div><div id=showmsgbox></div><p class="article-title success">线性同余法</p><p>同余法是说,如果两个整数a，b用m除，所得的余数相同，则称a，b对模m同余</p><p class="article-title success">使用此法计算随机数的 公式</p><p>X[n+1] = (A * X[n] + C) mod M</p><p><b>公式说明 : </b> 用一个初始值Xn,乘以正整数A,加上正整数C.然后对正整数M取模.得到的值就是下一个随机数.</p><p class="article-title success">近似随机数</p><p>这两种算法生成的随机数,都有一个特点就是生成的随机序列是固定的,不管什么时候生成,随机数都是按固定的顺序出现.因为算法是固定的,种子值是固定的.算法无法生成真正的随机数.</p><p>中方方法有明显缺点,所以使用线性同余法.为了让随机数近似随机,关键是选定A,C,M的值.</p><p>研究线性同余法公式发现,随机数序列的产生有周期性.假设 2,5,6,1,5,2,5,6,1,5 这个随机序列,第6位开始,其实是一种重复.由于算法固定,这种重复一定会发生.至于在第几位发生,取决于ACM的选择.</p><p>经过前人的理论研究,用线性同余法产生随机数时.为了得到近似随机数(是为了得到最大周期).ACM的值如下选择.</p><ul class=list><li>M尽可能的大(这样周期就大) 可以取系统位数,例如 32位系统,取2^32</li><li>A与M互质</li><li>C选0或者1 如果不为0,那么C与M互质.如果为0,那么M要选质数.</li><li>A,C要比M小,ACM都是正整数</li></ul><p>重复周期越长,随机性越好.如果需要每次都产生不一样的序列,那么每次要传入不同的种子.这样,近似随机数就实现了.</p><p class="article-title success">ACM选择示例:最小随机数生成器</p><p>A = 16807 C = 0 M = 2147483647</p><p>X[n+1] = 16807 * X[n] % 2147483647</p><p>输入种子和个数生成随机数序列(种子不为0,个数最多1K个)</p><div class=grids><input id=random_seed class="input-text grid-2" type=text maxlength=1000 placeholder=种子不能为0 /><input id=random_count class="input-text grid-2" type=text maxlength=3 placeholder=最多1000个 /><a class="btn info" id=createnumBtn>生成</a></div><div id=random_numsbox></div></div><hr class=line /><script>(()=>{function i(){let n=document.getElementById("zfinput").value;if(n.length!=0&&!isNaN(parseInt(n))){let t=Math.pow(n,2),r="";for(var u=0;u<2*n.length-t.toString().length;u++)r+="0";let i=r+t,f=i.substr((i.length-n.length)/2,n.length),e=`<p class="paragraph f16">种子数 : <strong>${n}</strong> | 平方 : <strong>${t}</strong> | 2n长度表示 : <strong>${i}</strong> | 中间n位 : <strong>${f}</strong></p>`;document.getElementById("showmsgbox").innerHTML=e}}function r(){let r=document.getElementById("random_seed").value,u=document.getElementById("random_count").value,n=r,t="";for(var i=0;i<u;i++)n=n*16807%2147483647,console.log(n),t+='<span class="label info mg-5">'+n+"<\/span>";document.getElementById("random_numsbox").innerHTML=t}let n=document.getElementById("zfBtn");n.onclick=()=>{i()};let t=document.getElementById("createnumBtn");t.onclick=()=>{r()}})(window)</script></div></div></body></html>