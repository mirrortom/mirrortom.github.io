<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0,user-scalable=no"><link href=/mirrorui/mirrorui.css rel=stylesheet><title>cavlib-doc | Mirror Space</title><style>.page{display:grid;grid-template-columns:210px auto}.menu-box{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}.doc-part-box{margin:50px auto}</style><body><script src=cavlib.js></script><div class=page><div class=menu-box><m-sidemenu class=sidemenu-box id=main_menubox><ul class=sidemenu-group><li><span class=sidemenu-label>About<i class=sidemenu-arrdown></i></span><li><a class=sidemenu-item href=#about>关于</a><li><a class=sidemenu-item href=#cavlib>cavlib</a></ul><ul class=sidemenu-group><li><span class=sidemenu-label>坐标系<i class=sidemenu-arrdown></i></span><li><a class=sidemenu-item href=#xyAxis>xyAxis</a><li><a class=sidemenu-item href=#lineArrow>lineArrow</a><li><a class=sidemenu-item href=#p2Rect>p2Rect</a><li><a class=sidemenu-item href=#pointVH>pointVH</a></ul></m-sidemenu></div><div class="content pd-15"><div id=about><h2>关于cavlib</h2><p>canvas绘画的库,模仿jQuery语法风格.</div><div class=doc-part-box id=cavlib><h2>全局对象</h2><p>内部对象canvalib,是一个类数组对象.也是模仿jQuery的,里面包含canvas元素引用和ctx(2D)绘画对象和库提供的工具方法.<pre class=bg-gray-lt>

    // 类数组对象,存放用id选取的canvas元素和2D绘画对象.
    // 返回this,可以链式调用 
    function canvalib(canvasId){
             ...
             return this;
    }

    // 属性
    this.canvas
    this.ctx

    // 工厂函数,实例化这个对象.
    function factory(selector){
        return new canvalib(canvasId);
    }

    // 引用对象 外部调用这个函数使用cavlib对象.
    window.cavlib = factory;
     
</pre><br><p class=article-title>style实例方法<p>调用工厂函数实例化后,可以调用style给画布设置样式风格<pre class=bg-gray-lt>

    // 给canva元素设置style
    // 0:灰色背景,默认值 其它值:未实现
    window.cavlib('canvasDomId').style(num = 0);
 
</pre><br><p class=article-title>扩展cavlib对象实例方法<pre class=bg-gray-lt>

    // 为cavlib对象添加实例方法 prototype上的方法.
    // json 一个方法名和函数值的json对像.方法名要用""号包起来.
    cavlib.extend(json)

</pre><br></div><div class=doc-part-box id=xyAxis><h2>xyAxis</h2><p>在画布上绘制直角坐标系辅助线.省略所有参数时,坐标轴以画布中心为原点,长度为画布长/高<pre class=bg-gray-lt>

    this.xyAxis(style = 0, oX = 0, oY = 0, oXLen = 0, oYLen = 0, oXLen1 = 0, oYLen1 = 0)

</pre><ul class="list square"><li>style : number 风格<ul class="list cir"><li>0 : 原点在中心,轴长等于画布长,虚线<li>1 : 同0,实线<li>2或大于2 : 自定义原点位置和轴长,偶数时虚线,奇数时实线</ul><li>oX : number 原点x坐标<li>oY : number 原点y坐标<li>oXLen : number x正轴长度<li>oYLen : number y正轴长度<li>oXLen1 : number x负轴长度<li>oYLen1 : number y负轴长度</ul><canvas id=canv_xyAxis></canvas></div><div class=doc-part-box id=lineArrow><h2>lineArrow</h2><p>连接2个或者以上的点,结束时画上箭头.箭头底边与线段最后一段垂直<pre class=bg-gray-lt>

    this.lineArrow(points, side = 12, height = 10, fill = true)

</pre><ul class="list square"><li>points : Array(number) 点坐标数组: x1,y1,x2,y2,....<li>side : number 箭头底边长<li>height : number 箭头高<li>fill : boolean true(实心)false(空心)</ul><canvas id=canv_lineArrow></canvas></div><div class=doc-part-box id=p2Rect><h2>p2Rect</h2><p>根据对角线上2点画出矩形<pre class=bg-gray-lt>

    this.p2Rect(x1, y1, x2, y2, style = 0)

</pre><ul class="list square"><li>x1 : number 点x坐标<li>y1 : number 点x坐标<li>x2 : number 对角点x坐标<li>y2 : number 对角点y坐标<li>style : number 风格: 0偶数时虚线,1实线</ul><canvas id=canv_p2Rect></canvas></div><div class=doc-part-box id=pointVH><h2>pointVH</h2><p>画坐标系中的一点到x/y轴的垂直和水平连线<pre class=bg-gray-lt>

    this.p2Rect(x, y, style = 0, oX = 0, oY = 0)

</pre><ul class="list square"><li>x : number 点x坐标<li>y : number 点x坐标<li>style : number 风格: 0(原点在中心,虚线),1(同0,实线) 其它:指定原点,偶数虚线奇数实线<li>oX : number 原点x坐标<li>oY : number 原点y坐标</ul><canvas id=canv_pointVH></canvas></div><script>(n=>{let t=n.cavlib("canv_lineArrow").style();t.lineArrow([20,20,200,20]);t.lineArrow([20,40,200,40],12,10,!1);t.lineArrow([50,50,100,100,120,60]);t.lineArrow([10,130,30,130,30,110,50,110]);let i=n.cavlib("canv_xyAxis").style();i.xyAxis();i.xyAxis(3,10,140,50,50,0,0);i.xyAxis(4,220,120,50,30,20,20)})(window);(n=>{let i=n.cavlib("canv_p2Rect").style(),r=i.ctx,f=50,e=40,o=160,s=85,h=20,c=60,l=260,a=135;i.p2Rect(f,e,o,s);i.p2Rect(h,c,l,a,1);let u=[[f,e],[o,s],[h,c],[l,a]];for(var t=0;t<u.length;t++)r.beginPath(),r.arc(u[t][0],u[t][1],4,0,Math.PI*2),r.fill()})(window);(n=>{let t=n.cavlib("canv_pointVH").style(),r=t.ctx,f=20,e=60,o=120,s=-35;t.xyAxis();t.pointVH(f,e);t.pointVH(o,s,1);let u=[[f,e],[o,s]];for(var i=0;i<u.length;i++)r.beginPath(),r.arc(u[i][0]+t.canvas.width/2,u[i][1]+t.canvas.height/2,4,0,Math.PI*2),r.fill()})(window)</script></div></div><script src=/jslib/jslib.js></script><script src=/mirrorui/mirrorui.js></script><script>$("#main_menubox")[0].create()</script>