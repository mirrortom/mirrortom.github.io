<!DOCTYPE html><html lang=en><head><meta charset=utf-8 /><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1" /><meta name=viewport content="width=device-width,initial-scale=1.0,user-scalable=no" /><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png /><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png /><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png /><link rel=manifest href=/site.webmanifest /><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5 /><meta name=msapplication-TileColor content=#da532c /><meta name=theme-color content=#ffffff /><title>vs2017使用 | Mirror Space</title><link href=/mirrorui/mirrorui.css rel=stylesheet /><link href=/asset/css/blog.css rel=stylesheet /></head><body><div class=layout><div class=layout-part1></div><div class=layout-part2><div class="mg-b-20 pd-5 bg-gray" id=top><a href=#m1 class="btn link success">项目模板</a> <a href=#m2 class="btn link success">离线NuGet</a></div><h2 id=m1>制作项目模板</h2><h4>如何将现有项目变成项目模板</h4><p>vs2017打开项目,选择菜单 [项目]→[导出模板]→勾选'项目模板'→点[下一步]→填写信息,勾选'自动将模板导入'→点[完成].</p><p>模板完成后,在添加新项目的选项里就有刚才建立的模板可以选择了.</p><h4>如何删除模板</h4><p>自定义模板是一个.zip文件,文件名就是建立时填写的名称.要删除两个地方的文件.</p><p>1. C:\Users\用户名\Documents\Visual Studio 2017\My Exported Templates</p><p>2. C:\Users\用户名\Documents\Visual Studio 2017\Templates\ProjectTemplates</p><p>删除这两个.zip文件后就可以了</p><h4>修改模板</h4><p>修改默认名字:解压zip文件,找到"MyTemplate.vstemplate",记事本打开,找到"&lt;DefaultName>"节点修改.这个名字会出现在vs新建项目对话框的"名称"文本框框中.</p><h2 id=m2>离线NuGet设置</h2><p>nuget有个默认的离线源,地址是: C:\Program Files (x86)\Microsoft SDKs\NuGetPackages 这个目录有很多包.</p><p>如果在一个项目中用在线NuGet添加了库,那么这个库会存放在一个目录下,一般是"C:\Users\用户名\.nuget\packages".</p><p>这个目录的nuget包,是包的缓存. [工具]→[NuGet包管理器]→[常规]→点击按钮[清除所有NuGet缓存],会清空此目录.</p><p>vs2017有NuGet管理菜单:</p><p>[工具]→[NuGet包管理器]→[程序包管理器设置]"→选择[程序包源]→点右上角[+]号→新增条目后,设置[名称]和[源].</p><p>名称是包的说明,可以用英文写一个.例如:"offline package",意思是离线的程序包</p><p>源是一个目录路径,例如:"C:\Users\用户名\.nuget\packages"</p><p>配置好之后,在项目中添加NuGet包时,就多了一个选择源.而且离线也可以使用.</p><p>注意:每一条程序包源前面的复选框要选上,不选就不启用.</p><p>离线安装</p><p>将.nuget包文件,放在上面建立的源目录中,然后在项目中添加Negut包,选择上面的源目录,点击界面上的浏览选项卡,就能看到了.</p><p>如果没有出现,可以点击刷新按钮.如果还是没有,可以重新打开vs再试试.</p><p>离线时安装Nuget包时,可能会报错不能连接nuget服务器.这时可以用经典办法,编辑项目的".csproj"文件,直接添加引用节点.重新打开项目后,NuGet会自动还原(添加)程序包.</p><p>.csproj程序包引用配置节点示例: &lt;PackageReference Include="Microsoft.AspNetCore.Server.Kestrel" Version="2.2.0" /></p><p>更多的NuGet文档,参考官方.<a href=https://docs.microsoft.com/zh-cn/nuget/what-is-nuget target=_blank>https://docs.microsoft.com/zh-cn/nuget/what-is-nuget</a></p><hr class=line /></div></div><script src=/asset/js/mainmenu.js></script></body></html>