<div class=doc-page><h2>setTransform(a, b, c, d, e, f)</h2><p>使用单位矩阵重新设置(覆盖)当前的变换并调用变换的方法,此变换由方法的变量进行描述<pre class="bg-gray pd-tb-10">
  ctx.setTransform(1, 0, 0, 1, 0, 0)
</pre><br><h4>参数</h4><p><label class="label danger">a</label> <small>Number</small> 水平缩放 (m11)<p><label class="label danger">b</label> <small>Number</small> 水平倾斜 (m12)<p><label class="label danger">c</label> <small>Number</small> 垂直倾斜 (m21)<p><label class="label danger">d</label> <small>Number</small> 垂直缩放 (m22)<p><label class="label danger">e</label> <small>Number</small> 水平移动 (dx)<p><label class="label danger">f</label> <small>Number</small> 垂直移动 (dy)</p><br><h4>测验</h4><p>这个方法详细说明请看<a class=goto onclick='mainmenugoto("transform")'>transform()</a><p>此方法与transform不同之处在于,它的设置是覆盖的<p>水平缩放2,垂直缩放1.5,垂直倾斜30度,水平倾斜15度,x移动40,y移动10<p>然后设置成默认值.可见,与transform()的累加效果不同,这个是覆盖之前的.</p><canvas id=canvas1></canvas><p>滚屏<p>就像页面滚动那样,通过调整坐标原点,让画布显示出那些画布可视范围外的内容.下图画有一些文字和几何图形,有些内容在画布范围外<p>通过调整"垂直移动(dy)"的值,不断在原地重绘,达到滚屏效果.值得注意的是动画清空区域,也要是动态的,clearRect(0,dy,300,160)</p><canvas id=canvas2></canvas><br></div><script>function test2(){let u=cavlib("canvas2").style(),n=u.ctx;n.font="18px serial";n.textAlign="center";n.fillStyle=`rgb(${randInt(0,256)},${randInt(0,256)},${randInt(0,256)})`;let t=0,i=randInt(4,15),r=()=>{n.clearRect(0,-t-10,300,160);n.fillText("canvas画布,滚动坐标",150,60);for(var u=0;u<10;u++)n.fillRect(0,80+u*2*i,300,i);let f=100+20*i;if(n.fillText("canvas画布已经滚动到底了",150,f),n.setTransform(1,0,0,1,0,t),t-=1,t<-f+75){t=0;i=randInt(4,15);n.fillStyle=`rgb(${randInt(0,256)},${randInt(0,256)},${randInt(0,256)})`;n.setTransform(1,0,0,1,0,0);setTimeout(()=>{window.requestAnimationFrame(r)},1e3);return}window.requestAnimationFrame(r)};window.requestAnimationFrame(r)}function test1(){let t=cavlib("canvas1").style(),n=t.ctx;n.setTransform(2,Math.PI/12,Math.PI/6,1.5,40,10);n.fillRect(0,0,70,50);n.setTransform(1,0,0,1,0,0);n.font="18px serial";n.fillRect(10,120,10,10);n.fillText("还原为默认值(1, 0, 0, 1, 0, 0)",30,130)}function randInt(n,t){let i=Math.random()*(t-n);return Math.floor(i)+n}test1();test2()</script>