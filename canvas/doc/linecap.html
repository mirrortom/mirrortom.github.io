<div class=doc-page><h2>lineCap</h2><p>指定如何绘制每一条线段末端.[butt] | round | square;<pre class="bg-gray pd-tb-10">
  ctx.lineCap = 'butt';// 默认值,线段两端不处理.线段多长画出来就是多长
  ctx.lineCap = 'round';// 圆角两端,两端会多出一个圆角
  ctx.lineCap = 'square';// 方形两端,两端会多出一个矩形.高度和线宽一样,宽度是线宽一半
</pre><br><h4>测验</h4><p>这个属性的默认值是butt,平时画一条粗线时的效果如下图第一条线<p>其它两个属性,从名字看是圆和方的意思.意思线段两端是圆形和方形.<p>为了对比三个线段两端处的不同,所画线段长度相同,粗细相同</p><canvas id=canvas1></canvas><p>三个不同属性画线效果不同,同样长度的线段,画出来却不一样长.线段末端的突出部分并不算在线段长度内.<p>那么这个突出长度是多少呢?这个区域高度肯定与线宽一样,长度是线宽一半</p><canvas id=canvas2></canvas><p>如果是圆角那种的,突出长度是多少?</p><canvas id=canvas3></canvas><h6><span class=rel-1></span> 81页</h6><p>线段端点与连接点的绘制</div><script>function test3(){let r=cavlib("canvas3").style(),n=r.ctx;n.lineWidth=20;n.font="18px serial";let t={x:20,y:30},i={x:200,y:30};n.beginPath();n.moveTo(t.x,t.y);n.lineTo(i.x,i.y);n.stroke();n.fillText("butt(默认)",i.x+10,i.y+10);n.beginPath();n.strokeStyle="green";n.lineCap="round";n.moveTo(t.x,t.y+40);n.lineTo(i.x,i.y+40);n.stroke();n.fillText("round",i.x+10,i.y+50);n.beginPath();n.lineWidth=1;n.strokeStyle="red";n.moveTo(t.x,15);n.lineTo(t.x,89);n.moveTo(t.x-10,15);n.lineTo(t.x-10,89);n.stroke();n.fillStyle="red";n.fillText("线宽是20,这段突出是10,还是线宽的一半",10,120,280)}function test1(){let r=cavlib("canvas1").style(),n=r.ctx;n.lineWidth=10;n.font="18px serial";let i={x:20,y:20},t={x:200,y:20};n.beginPath();n.moveTo(i.x,i.y);n.lineTo(t.x,t.y);n.stroke();n.fillText("butt(默认)",t.x+10,t.y+10);n.beginPath();n.strokeStyle="green";n.lineCap="square";n.moveTo(i.x,i.y+40);n.lineTo(t.x,t.y+40);n.stroke();n.fillText("square",t.x+10,t.y+50);n.beginPath();n.strokeStyle="brown";n.lineCap="round";n.moveTo(i.x,i.y+80);n.lineTo(t.x,t.y+80);n.fillText("round",t.x+10,t.y+90);n.stroke()}function test2(){let r=cavlib("canvas2").style(),n=r.ctx;n.lineWidth=15;n.font="18px serial";let t={x:20,y:30},i={x:200,y:30};n.beginPath();n.moveTo(t.x,t.y);n.lineTo(i.x,i.y);n.stroke();n.fillText("butt(默认)",i.x+10,i.y+10);n.beginPath();n.strokeStyle="green";n.lineCap="square";n.moveTo(t.x,t.y+40);n.lineTo(i.x,i.y+40);n.stroke();n.fillText("square",i.x+10,i.y+50);n.beginPath();n.lineWidth=1;n.strokeStyle="red";n.moveTo(t.x,15);n.lineTo(t.x,89);n.moveTo(t.x-7.5,15);n.lineTo(t.x-7.5,89);n.stroke();n.fillStyle="red";n.fillText("线宽是15,这段突出是7.5,是线宽的一半",10,120,280)}test1();test2();test3()</script>