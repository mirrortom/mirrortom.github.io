<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0"><link href=/mirrorui/mirrorui.css rel=stylesheet><link href=/mirroricon/mirroricon.css rel=stylesheet><title>measureText | canvas文档整理 | Mirror Space</title><style>.page{display:grid;grid-template-columns:210px auto}.mainmenubox{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}</style><div class=page><div class=mainmenubox id=mainmenubox></div><div class=pd-20><h2>measureText(text)</h2><p>测量文本内容宽度,返回一个对象TextMetrics.它的width属性是文字的宽度值<pre class="bg-gray pd-tb-10">
  let txtm:TextMetrics = ctx.measureText(text)
  txtm.width;
  
</pre><br><h4>参数</h4><p><label class="label danger">text</label> <small>string</small> 要测量的文本内容</p><br><h4>测验</h4><p>一段文本hello world (50,75) 测量宽度,结果是132px</p><canvas id=canvas1></canvas><p>同样测量这段文本,之前设置不同字体.<p>用这个方法可测量不同字体时,文本宽度.</p><canvas id=canvas2></canvas><br><script src=/jslib/cavlib.js></script><script>function test1(){let r=cavlib("canvas1").style(),n=r.ctx;n.font="24px 宋体";let i="hello world";n.fillText(i,50,75);let t=n.measureText(i);console.log(t);n.fillText(n.font,20,20);n.fillText(`width:${t.width}`,50,120);n.beginPath();n.moveTo(50,35);n.lineTo(50,145);n.moveTo(t.width+50,35);n.lineTo(t.width+50,145);n.stroke()}function test2(){let r=cavlib("canvas2").style(),n=r.ctx;n.font="22px serial";let i="hello world";n.fillText(i,50,75);let t=n.measureText(i);n.fillText(n.font,20,30);n.fillText(`width:${t.width}`,50,120);n.beginPath();n.moveTo(50,35);n.lineTo(50,145);n.moveTo(t.width+50,35);n.lineTo(t.width+50,145);n.stroke()}test1();test2()</script></div></div><script src=/asset/js/canvasapimenu.js></script>