<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0"><link href=/mirrorui/mirrorui.css rel=stylesheet><link href=/mirroricon/mirroricon.css rel=stylesheet><title>drawImage | canvas文档整理 | Mirror Space</title><style>.page{display:grid;grid-template-columns:210px auto}.mainmenubox{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}</style><div class=page><div class=mainmenubox id=mainmenubox></div><div class=pd-20><h2>drawImage()</h2><p>将图片绘制在画布上<pre class="bg-gray pd-tb-10">
  ctx.drawImage(image, dx, dy);
  ctx.drawImage(image, dx, dy, dWidth, dHeight);
  ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);
</pre><h4>参数</h4><p><label class="label danger">image</label> <small>object</small> 绘制图片.允许任何的 canvas 图像源(CanvasImageSource),例如:CSSImageValue,HTMLImageElement,SVGImageElement,HTMLVideoElement,HTMLCanvasElement,ImageBitmap 或者OffscreenCanvas.<p><label class="label danger">dx</label> <small>Number</small> image的左上角在目标canvas上 X 轴坐标<p><label class="label danger">dy</label> <small>Number</small> image的左上角在目标canvas上 Y 轴坐标<p><label class="label danger">sx</label> <small>Number</small> 需要绘制到目标上下文中的,image的矩形（裁剪）选择框的左上角 X 轴坐标.<p><label class="label danger">sy</label> <small>Number</small> 需要绘制到目标上下文中的,image的矩形（裁剪）选择框的左上角 Y 轴坐标.<p><label class="label danger">dWidth</label> <small>Number</small> image在目标canvas上绘制的宽度. 允许对绘制的image进行缩放. 如果不说明, 在绘制时image宽度不会缩放.<p><label class="label danger">dHeight</label> <small>Number</small> image在目标canvas上绘制的高度. 允许对绘制的image进行缩放. 如果不说明, 在绘制时image高度不会缩放<p><label class="label danger">sWidth</label> <small>Number</small> 需要绘制到目标上下文中的,image的矩形（裁剪）选择框的宽度.如果不说明,整个矩形（裁剪）从坐标的sx和sy开始,到image的右下角结束<p><label class="label danger">sHeight</label> <small>Number</small> 需要绘制到目标上下文中的,image的矩形（裁剪）选择框的高度.</p><br><img src=/asset/img/panda.jpg id=img1 class=d-none> <h4>测验</h4><p>drawImage(image, 30, 10)<p>参数dx,dy是画布上的坐标,指示从此坐标点开始绘画图片.图片就是原本大小 200x136</p><canvas id=canvas1></canvas><p>ctx.drawImage(image, 30, 10, 80, 120)<p>参数dWidth,dHeight,以指定的高宽开始绘画图片.可见,图片变形了并且比例失调.下图左<p>如果参数是原图片宽度的整数倍,且维持原长宽比例.那么图片就有放大或者缩小效果.下图右<div class=grids><canvas id=canvas2></canvas><canvas id=canvas4></canvas></div><p>ctx.drawImage(image, 0, 0, 120, 80, 30, 10, 120, 80)<p>参数sx,sy,sWidth,sHeight,可以看成是一个矩形,sx,sy是矩形左上角顶点,sWidth,sHeight是矩形高与宽<p>这个矩形是个选择框,它选择的是图片上的区域.选定后,画在画布上.后面的四个参数与图2一样,指示从哪里开始画,画多大<p>简单的讲,它的作用就是从原始图片上选择一部分画到画布上.</p><canvas id=canvas3></canvas><p>图片源也可以是一个视频.下面这个视频在每次点击播放按钮时,就会绘制播放时那帧到画布上<div class=grids><video id=video1 controls=controls></video><canvas id=canvas5></canvas></div><p>&lt;&lt;H5核心技术图形动画与游戏开发(David Geary)>> 177页<p>图像的绘制效果受制于阴影,剪辑区域,图像合成等属性<p>drawImage()方法在绘制图像时不考虑当前路径,然而,它却会将globalAlpha设置,阴影效果,剪辑区域,以及全局图像合成操作符等属性<p>运用到图像的绘制之中</p><script src=/cavlib/cavlib.js></script><script>function test4(){let t=cavlib("canvas5").style(),i=t.ctx,n=document.querySelector("#video1");n.src="/asset/video/nn.mp4";n.onplay=()=>{i.drawImage(n,0,0,300,150)}}function test3(){let n=cavlib("canvas3").style(),t=n.ctx,i=document.querySelector("#img1");t.drawImage(i,0,0,120,80,30,10,120,80)}function test2(){let r=cavlib("canvas2").style(),i=r.ctx;i.canvas.width=200;let n=document.querySelector("#img1");i.drawImage(n,20,10,80,120);let u=cavlib("canvas4").style(),t=u.ctx;t.canvas.width=500;t.drawImage(n,20,10,200*1.5,136*1.5);t.drawImage(n,350,10,200*.5,136*.5)}function test1(){let n=cavlib("canvas1").style(),t=n.ctx,i=document.querySelector("#img1");t.drawImage(i,30,10)}test1();test2();test3();test4()</script></div></div><script src=/asset/js/canvasapimenu.js></script>