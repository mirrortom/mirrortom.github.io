<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0"><link href=/mirrorui/mirrorui.css rel=stylesheet><title>createLinearGradient | canvas文档整理 | Mirror Space</title><style>.page{display:grid;grid-template-columns:210px auto}.mainmenubox{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}</style><div class=page><div class=mainmenubox id=mainmenubox></div><div class=pd-20><h2>createLinearGradient(x1,y1,x2,y2)</h2><p>创建线性渐变.传入两个坐标点,为线的起止点,返回一个CanvasGradient实例,通过调用此实例的addColorStop()方法,增加颜色渐变点<pre class="bg-gray pd-tb-10">
  ctx.createLinearGradient(x1,y1,x2,y2)
</pre><p>示例使用代码<pre class="bg-gray pd-tb-10">
    // 调用此方法得到对象
    let gradient = ctx.createLinearGradient(0, 0, 150, 150);
    // 设置渐变关键位置颜色
    gradient.addColorStop(0, 'red');
    gradient.addColorStop(.5, 'green');
    gradient.addColorStop(1, 'blue');
    // 赋值给样式属性
    ctx.fillStyle = gradient;
    // 绘画
    ctx.fillRect(0, 0, 150, 150);
</pre><h4>参数</h4><p><label class="label danger">x1</label> <small>Number</small> 起点x坐标<p><label class="label danger">y1</label> <small>Number</small> 起点y坐标<p><label class="label danger">x2</label> <small>Number</small> 终点x坐标<p><label class="label danger">y2</label> <small>Number</small> 终点y坐标</p><br><h4>测验</h4><p>添加1个或多个颜色变化值.addColorStop(0.5,'red')方法添加渐变值,参数1表示在50%的位置添加红色,意思是到50%时渐变成红色<p>下图第1条没有渐变,因为它只添加了一个值,红色.第2条在0%和100%添加了红色和绿色,所以由红渐变为绿<p>最后一条色带,在0%,25%,50%,75%,100%处添加了5种颜色,可见渐变处过滤变化.下方的文字的颜色,没错,正是按渐变色的设置变化的.</p><canvas id=canvas1></canvas><p>上图是水平线渐变,再看斜线和垂直线渐变<p>下图左设置渐变ctx.createLinearGradient(0, 0, 150, 150),是一条斜线,而右边则是一条垂直线</p><canvas id=canvas2></canvas><p>&lt;&lt;H5核心技术图形动画与游戏开发(David Geary)>> (52页)</p><script src=/jslib/cavlib.js></script><script>function test2(){let i=cavlib("canvas2").style(),t=i.ctx;t.canvas.width=350;let n=t.createLinearGradient(0,0,150,150);n.addColorStop(0,"red");n.addColorStop(.5,"green");n.addColorStop(1,"blue");t.fillStyle=n;t.fillRect(0,0,150,150);n=t.createLinearGradient(0,0,0,150);n.addColorStop(0,"red");n.addColorStop(.5,"green");n.addColorStop(1,"blue");t.fillStyle=n;t.fillRect(160,0,150,150)}function test1(){var i;let u=cavlib("canvas1").style(),n=u.ctx;n.canvas.width=350;let t=n.createLinearGradient(0,0,300,0);t.addColorStop(0,"red");n.fillStyle=t;n.fillRect(0,0,300,20);t=n.createLinearGradient(0,0,300,0);t.addColorStop(0,"red");t.addColorStop(1,"green");n.fillStyle=t;n.fillRect(0,30,300,20);t=n.createLinearGradient(0,0,300,0);t.addColorStop(0,"red");t.addColorStop(.5,"green");t.addColorStop(1,"blue");n.fillStyle=t;n.fillRect(0,60,300,20);t=n.createLinearGradient(0,0,300,0);let r={red:0,green:.25,blue:.5,yellow:.75,brown:1};for(i in r){let n=r[i];t.addColorStop(r[i],i)}n.fillStyle=t;n.fillRect(0,90,300,20);for(i in r){let t=r[i];n.fillText(i,300*t,120);n.fillText(t*100+"%",300*t,135)}n.fillText("0.2%",300*.12,135)}test1();test2()</script></div></div><script src=menu.js></script>