<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1.0"><link href=/mirrorui/mirrorui.css rel=stylesheet><title>lineJoin | canvas文档整理 | Mirror Space</title><style>.page{display:grid;grid-template-columns:210px auto}.mainmenubox{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}</style><div class=page><div class=mainmenubox id=mainmenubox></div><div class=pd-20><h2>lineJoin</h2><p>用来设置2个长度不为0的相连部分(线段,圆弧,曲线）如何连接在一起的属性(长度为0的变形部分,其指定的末端和控制点在同一位置,会被忽略)<pre class="bg-gray pd-tb-10">
  ctx.lineJoin = "bevel";// 在相连部分的末端填充一个额外的以三角形为底的区域, 每个部分都有各自独立的矩形拐角.
  ctx.lineJoin = "round";// 通过填充一个额外的,圆心在相连部分末端的扇形,绘制拐角的形状. 圆角的半径是线段的宽度.
  ctx.lineJoin = "miter";// 默认值 通过延伸相连部分的外边缘,使其相交于一点,形成一个额外的菱形区域.这个设置可以通过 miterLimit 属性看到效果.
</pre><p>round: 通过填充一个额外的,圆心在相连部分末端的扇形,绘制拐角的形状. 圆角的半径是线段的宽度.</p><br><h4>测验</h4><p>三个值,三条折线,从左到右'bevel','round','miter'<p>设置bevel时,接头处变平了,'round'则变圆了,'miter'为尖角,这个是默认值.不设置时就是这样<div class=grids><canvas id=canvas1></canvas><canvas id=canvas2></canvas><canvas id=canvas3></canvas></div><p>画一个矩形,边厚度为15<p>可以画圆角矩形<div class=grids><canvas id=canvas4></canvas><canvas id=canvas5></canvas><canvas id=canvas6></canvas></div><p>画一个5角星,边厚度为10<p>5角星也能变平角和圆角的<div class=grids><canvas id=canvas7></canvas><canvas id=canvas8></canvas><canvas id=canvas9></canvas></div><h5>&lt;&lt;H5核心技术图形动画与游戏开发(David Geary)>> 81页</h5><p>线段端点与连接点的绘制</p><script src=/jslib/cavlib.js></script><script>function test3(){var n,t;let u=cavlib("canvas7").style(),f=cavlib("canvas8").style(),e=cavlib("canvas9").style(),o=u.ctx,s=f.ctx,h=e.ctx,i=[o,s,h],r=["bevel","round","miter"];for(n=0;n<i.length;n++){let u=i[n];u.lineJoin=r[n];u.lineWidth=10;let f=60;for(u.save(),u.translate(125,75),u.moveTo(0,-f),t=0;t<5;t++)u.rotate(-Math.PI*4/5),u.lineTo(0,-f);u.fillStyle="skyblue";u.fill();u.stroke();u.restore();u.font="18px serial";u.fillText(r[n],200,130)}}function test2(){let r=cavlib("canvas4").style(),u=cavlib("canvas5").style(),f=cavlib("canvas6").style(),e=r.ctx,o=u.ctx,s=f.ctx,t=[e,o,s],i=["bevel","round","miter"];for(var n=0;n<t.length;n++){let r=t[n];r.lineJoin=i[n];r.lineWidth=15;r.rect(40,50,200,60);r.stroke();r.font="18px serial";r.fillText(i[n],120,90)}}function test1(){let u=cavlib("canvas1").style(),f=cavlib("canvas2").style(),e=cavlib("canvas3").style(),o=u.ctx,s=f.ctx,h=e.ctx,i=[o,s,h],r=["bevel","round","miter"],n=[[10,10],[60,120],[100,30],[250,70]],c=10;for(var t=0;t<i.length;t++){let u=i[t];u.strokeStyle="#ff8800";u.lineWidth=c;u.lineJoin=r[t];u.moveTo(n[0][0],n[0][1]);u.lineTo(n[1][0],n[1][1]);u.lineTo(n[2][0],n[2][1]);u.lineTo(n[3][0],n[3][1]);u.stroke();u.font="18px serial";u.fillText(r[t],200,130)}}test1();test2();test3()</script></div></div><script src=menu.js></script>