<div class=doc-page><h2>范围滑块</h2><p>自定义滑动组件,比较常用的组件.<pre class=bg-gray-lt>

  &lt;m-range id="range1" width="600" min="0" max="100" val="0">&lt;/m-range>
  // dom属性,都可选
  width: 滑动条的长度
  min: 范围边界小值
  max: 范围边界大值
  val: 初始值
          
</pre><br><p># 绑定了鼠标事件和触摸事件,按住滑块按钮拖动改变滑块的值.<p>事件绑定在容器元素上,没用绑定在滑块按钮上,为了实现当鼠标不在按钮上时,也能触发滑动事件.</p><br><pre class=bg-gray-lt>

  // 绑定滑动事件,这个例子中,获取滑块的值,在canvas里绘制小方块的个数
  let crag1 = document.getElementById('range1');

  // val: 当前滑块的值
  crag1.<strong>onChange</strong> = (val)=>{

  }

</pre><br><p># 设置滑块位置<pre class=bg-gray-lt>

  // num: 要设置的值,在[min,max]之间的值
  crag1.<strong>Value</strong> = num;

</pre><br><m-range id=range1 width=600 min=0 max=100 val=0></m-range><br><br><canvas id=canvasrange1 style=background-color:#eee></canvas></div><script>(()=>{function h(t,r){for(var u=0,f=n.length;u<f;u++)if(t==n[u]&&r==i[u])return!0;return!1}function c(n){let t=parseInt(n/u),i=n%f;return[t,i]}function l(n,t,i,r,u){n.beginPath();n.fillRect(t,i,r,u)}function a(n,t){let i=Math.random()*(t-n);return Math.floor(i)+n}let t=document.getElementById("canvasrange1"),r=t.getContext("2d");t.width=t.height=256;r.fillStyle="orange";let e=16,o=16,u=16,f=16,n=[],i=[],s=document.getElementById("range1");s.onChange=s=>{let y=s;n.length=i.length=0;for(let t=0;t<y;t++){let r=a(0,256),t=c(r);h(t[0],t[1])||(n.push(t[0]),i.push(t[1]))}r.clearRect(0,0,t.width,t.height);for(var v=0,p=n.length;v<p;v++){let t=n[v],s=i[v];l(r,t*e,s*o,f,u)}}})()</script>