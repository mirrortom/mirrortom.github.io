<!DOCTYPE html><html lang=en><head><meta charset=utf-8 /><meta name=viewport content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" /><link href=mirrorui.css rel=stylesheet /><script src=mirrorui.js></script><title>mirrorui-doc | mirror space</title><style>.page{display:grid;grid-template-columns:210px auto}.menu-box{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}.doc-part-box{margin:50px auto}</style></head><body><div class=page><div class=menu-box><m-sidemenu class=pd-b-30 id=main_menubox><ul class=sidemenu-group><li><span class=sidemenu-label>概述<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=#about>关于</a></li><li><a class=sidemenu-item href=#cssvar>css变量</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>布局<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=#grid>册格</a></li><li><a class=sidemenu-item href=#mediaquery>媒体查询</a></li><li><a class=sidemenu-item href=#toolclass>工具样式</a></li><li><a class=sidemenu-item href=#pagelayout>页面布局</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>页面UI组件<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=#typography>大标题</a></li><li><a class=sidemenu-item href=#article>段落标题</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item href=#btn>按钮</a></li><li><a class=sidemenu-item href=#btngroup>按钮组</a></li><li><a class=sidemenu-item href=#onoff>开关</a></li><li><a class=sidemenu-item href=#label>标签</a></li><li><a class=sidemenu-item href=#kvpair>名值标签</a></li><li><a class=sidemenu-item href=#imagedemo>图片</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item href=#panel>面板</a></li><li><a class=sidemenu-item href=#msgpanel>信息面板</a></li><li><a class=sidemenu-item href=#hrline>hr分隔线</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item href=#list>列表</a></li><li><a class=sidemenu-item href=#table>表格</a></li><li><a class=sidemenu-item href=#form>表单</a></li><li><a class=sidemenu-item href=#inputvalchange>监听输入</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item href=#pageload>页面等待</a></li><li><a class=sidemenu-item href=#menubar>菜单条</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>功能组件<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=#msgbox>弹出框</a></li><li><a class=sidemenu-item href=#msgshow>提示框</a></li><li><a class=sidemenu-item href=#datetime>日期时间</a></li><li><a class=sidemenu-item href=#pagenum>分页条</a></li><li><a class=sidemenu-item href=#range>范围滑块</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item href=#sidemenu>侧边菜单</a></li><li><a class=sidemenu-item href=#mnavmenu>底部菜单</a></li><li><a class=sidemenu-item href=#mdirbar>顶部导航</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item href=#tabs>选项卡</a></li><li><a class=sidemenu-item href=#cachepage>缓存页</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>设计<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=#design_form>表单设计</a></li></ul></m-sidemenu></div><div class="content pd-15"><div id=about><h2>关于ui</h2><p># 为了练习而做</p><p>将html,js,css做成组件,使web开发更方便.这种做法在桌面程序中早就有了,比如winfrom.较早些时候,当前后端还没有分离,还是以服务端编程时,常用的是jQuery,还有各用基于jQuery的UI.</p><p>后来有了Bootstrap.学习它的scss后,认为这是一种先进的思想.于是模仿练习.它的样式是OOP的,使用scss编写生成css.生成各种组件,布局,工具的css样式.</p><p>一套webui是一些组件的集合,一个组件就是html模板加css显示加js功能的组合.按bootstrap的思路,编写这种组合就得到了一套UI.</p><p>看过一些其它的ui框架,都是bootstrap的形式,或者直接基于它开发的.看起来,这更是一种web前端编程思路突破,真正的将web前端工程化了,就像服务端工程化那样.</p><p>所以,使用造组件的思路,可以造出各种各样的ui来.</p><p># 自定义组件</p><p>主流的浏览器都支持web自定义组件了,就是可以自定义标记,以及这个标记的dom对象类型.如此一来,可以自定义内置的web组件了</p><p>感觉不错的自定义ui组件库: <a href=https://shoelace.style/ target=_blank>https://shoelace.style/</a></p><p># css / js</p><p>css使用的是 stylus <a href=https://stylus-lang.com/ target=_blank>stylus-lang.com</a> <a href=https://stylus-lang.net/ target=_blank>stylus-lang.net</a>,这个预处理器的语法风格像python那样靠空格缩进,比较简洁.另外工具函数也很丰富,类似sass.</p><p>为了方便修改颜色,所有颜色使用了css变量.</p><p>所有的js绑定在 window.ns 这个对象上面,ns表示namespace.</p><p>没有js交互的主要用于展示性的组件使用原生的html标记,有js交互的做成了自定义标记.</p><p>自定义组件样式没有封装在shadowdom里,还是使用的全局样式.</p></div><div class=doc-part-box id=cssvar><h2>css变量</h2><p>在 :root 伪类下,设置了css变量.主题颜色,字体大小使用了css变量,为了便于切换UI颜色.</p><pre class=bg-gray-lt>
  // js设置html元素下定义的css变量
  document.documentElement.style.setProperty('--color-primary', 'blue');

  // 获取html元素下定义的css变量值
  window.getComputedStyle(document.documentElement).getPropertyValue('--color--primary')

  // 如果一个css变量 "--var-a" 的值是另一个css变量的值 --var-b : var(--var-a)
  // 那么改变--var-a的值后,--var-b不变,这种引用是"值"传递的

</pre><br /><p># 颜色变量</p><pre class=bg-gray-lt>
:root{}

  // 黑
  --color-black: #000;
  --color-black-lt: #333;
  --color-black-opa50: rgba(0,0,0,0.314);

  // 白,灰
  --color-white: #fff;
  --color-gray: #dee2e6;
  --color-gray-lt: #edeff1;
  --color-gray-dk: #b7c0c9;

  // 主题色
  --color-primary: #38bdf8;
  --color-primary-lt: #92dbfb;
  --color-primary-dk: #0caef6;

  // 成功
  --color-success: #28a745;
  --color-success-lt: #79df90;
  --color-success-dk: #228e3b;

  // 警告
  --color-warning: #ffc107;
  --color-warning-lt: #fd7;
  --color-warning-dk: #dfa700;

  // 消息
  --color-info: #17a2b8;
  --color-info-lt: #6bdbec;
  --color-info-dk: #148a9c;

  // 失败
  --color-danger: #dc3545;
  --color-danger-lt: #ec9099;
  --color-danger-dk: #c62232;

</pre><br /><p># 字体大小变量</p><p>默认的body字体14px,手机屏幕16px.默认body背景色白色</p><pre class=bg-gray-lt>
:root{}

  // 字体大小
  --font-size-sm: 12px;
  --font-size: 14px;
  --font-size-md: 16px;
  --font-size-lg: 20px;
  --font-size-xl: 24px;
  --font-size-xxl: 36px;
  --font-size-xxxl: 48px;

  // 字体颜色
  --font-color: var(--black-lt);

  // 背景颜色
  --bg-color: var(--color-white);

</pre></div><div class=doc-part-box id=grid><h2>册格系统</h2><p>经典的册格布局,现在css已经自带了.使用grid或者flex布局就能实现.</p><style>.demo-grids{display:grid;grid-template-columns:repeat(12,8.3333%)}.demo-grid{background-color:var(--color-primary);padding:5px;border:1px solid #fff}</style><p>对容器使用 display:grid 布局其下的项目将分为12列,每一列宽占比为8.3%.就得到12列栅格.</p><div class="demo-grids mg-tb-10"><span class="demo-grid text-center">1</span> <span class="demo-grid text-center">2</span> <span class="demo-grid text-center">3</span> <span class="demo-grid text-center">4</span> <span class="demo-grid text-center">5</span> <span class="demo-grid text-center">6</span> <span class="demo-grid text-center">7</span> <span class="demo-grid text-center">8</span> <span class="demo-grid text-center">9</span> <span class="demo-grid text-center">10</span> <span class="demo-grid text-center">11</span> <span class="demo-grid text-center">12</span></div><pre class=bg-gray-lt>
  .demo-grids {
    display: grid;
    grid-template-columns: repeat(12,8.3333%);
  }

</pre><br /><p># 册格样式类 为了使用方便,制做栅格样式,含有媒体查询,适配几种屏幕大小.</p><p class=text-in>.grids-n n=(1~12) 使用 display: grid 实现</p><p class=text-in>在div册格容器上使用样式 <b>.grids-7</b> 其下项目会自动均分1/7宽度</p><div class="grids-7 mg-tb-10"><span class="demo-grid text-center bg-successse">1 / 7</span> <span class="demo-grid text-center bg-successse">2 / 7</span> <span class="demo-grid text-center bg-successse">3 / 7</span> <span class="demo-grid text-center bg-successse">4 / 7</span> <span class="demo-grid text-center bg-successse">5 / 7</span> <span class="demo-grid text-center bg-successse">6 / 7</span> <span class="demo-grid text-center bg-successse">7 / 7</span></div><pre class=bg-gray-lt>
  .grids-n {
    <b>display: grid;</b>
    grid-template-columns: repeat(n, 1/n*100%);
    overflow: hidden;
  }

</pre><br /><p># 根据屏幕尺寸将项目灵活分n列.这是有12个项目的div. 默认"grids-3"是自动分3列,那么会有4行.调整浏览器窗口大小查看项目排列变化</p><div class="grids-3 grids-sm-4 grids-md-6 grids-lg-10 grids-xl-12 mg-tb-10"><span class="demo-grid text-center">1</span> <span class="demo-grid text-center">2</span> <span class="demo-grid text-center">3</span> <span class="demo-grid text-center">4</span> <span class="demo-grid text-center">5</span> <span class="demo-grid text-center">6</span> <span class="demo-grid text-center">7</span> <span class="demo-grid text-center">8</span> <span class="demo-grid text-center">9</span> <span class="demo-grid text-center">10</span> <span class="demo-grid text-center">11</span> <span class="demo-grid text-center">12</span></div><pre class=bg-gray-lt>
  // grids-sm-4 屏幕width>640px时,项目分为4列,有3行
  // grids-md-6 屏幕width>768px时,项目分为6列,2行
  // grids-lg-10 屏幕width>992px时,项目分为10列,2行
  // grids-xl-12 屏幕width>1200px时,项目分为12列,1行
  class="<strong>grids-3 grids-sm-4 grids-md-6 grids-lg-10 grids-xl-12</strong>"

</pre><br /><p># grids-n 项目高度问题</p><p>容器使用grids-n布局时,默认情况下,其下项目的高度会拉伸到容器高度和宽度.</p><div class=grids-5><label class="bg-gray mg-5">label height:auto</label> <label class="bg-gray mg-5">label height:auto</label> <div class="bg-gray mg-5" style=height:40px>div height:40px(它最高,其它与之平齐)</div><label class="bg-gray mg-5">label height:auto</label> <label class="bg-gray mg-5">label height:auto</label></div><p class=mg-tb-10>如果不希望如此,可以给项目套一层div,这样grid布局就不会影响到内容元素了.套一层div的效果</p><div class=grids-5><div><label class="bg-gray mg-5">div label height:auto</label></div><div><label class="bg-gray mg-5">div label height:auto</label></div><div><div class="bg-gray mg-5" style=height:40px>height:40px(不再与它平齐)</div></div><div><label class="bg-gray mg-5">div label height:auto</label></div><div><label class="bg-gray mg-5">div label height:auto</label></div></div><p># .grids , .grid 使用 display: flex 实现</p><p class=text-in>在div册格容器上使用样式 <b>.grids</b>, 同时在其下项目上使用样式 <b>.grid</b> ,则项目自动根据个数均分宽度</p><div class=grids><span class="grid demo-grid text-center">1 / 9</span> <span class="grid demo-grid text-center">2 / 9</span> <span class="grid demo-grid text-center">3 / 9</span> <span class="grid demo-grid text-center">4 / 9</span> <span class="grid demo-grid text-center">5 / 9</span> <span class="grid demo-grid text-center">6 / 9</span> <span class="grid demo-grid text-center">7 / 9</span> <span class="grid demo-grid text-center">8 / 9</span> <span class="grid demo-grid text-center">9 / 9</span></div><br /><p>在div册格的项目元素上使用样式 .grid-n n=(1~12) 则项目占比n/12</p><div class=grids><span class="grid-3 demo-grid text-center">grid-3</span> <span class="grid-4 demo-grid text-center">grid-4</span> <span class="grid-5 demo-grid text-center">grid-5</span></div><br /><p>在div册格的项目元素上混合使用样式 .grid和.grid-n,其中grid-n占用指定宽度,grid则均分剩于空间</p><div class=grids><div class="grid demo-grid text-center">均分</div><div class="grid-5 demo-grid text-center">固定占grid-5</div><div class="grid demo-grid text-center">均分</div><div class="grid demo-grid text-center">均分</div></div><br /><p># 按屏幕尺寸调整项目占比,在项目上使用样式 grid-xx-n .调整屏幕大小看项目宽度变化</p><div class="grids mg-tb-10"><div class="demo-grid grid-12 grid-sm-8 grid-md-6 grid-lg-3 grid-xl-1">grid-sm-8 grid-md-6 grid-lg-3 grid-xl-1</div></div><pre class=bg-gray-lt>
  // grid-12 默认是占据1行
  // grid-sm-8 屏幕width>640px时,项目占比8/12
  // grid-md-6 屏幕width>768px时,项目占比6/12
  // grid-lg-3 屏幕width>992px时,项目占比3/12
  // grid-xl-1 屏幕width>1200px时,项目占比1/12
  class="<strong>grid-12 grid-sm-8 grid-md-6 grid-lg-3 grid-xl-1"</strong>

</pre><br /><p># 使用flex布局时,对项目的拉伸情况与grid布局类似</p><pre class=bg-gray-lt>
&lt;div class="grids">
  <b>&lt;span class="grid-2">背景图片&lt;/span></b>
&lt;/div>

</pre><p>栅格的第一个span,是设置有背景图片的.display:inline-block;width:48px;height:48px;大小48X48</p><p>作为grid布局的直接项目,大小不是48X48了,图片走样了,受到flex布局的影响.可以在span上设置background-size:contain;解决.</p><p>但正规的办法,还是套一层div.承载内容的元素不要直接作为flex的布局(项目)元素.</p><pre class=bg-gray-lt>
&lt;div class="grids">
  &lt;div"><b>&lt;span class="grid-2">背景图片&lt;/span></b>&lt;/div">
    &lt;span class="grid-8">&lt;/h3>
&lt;/div>

</pre></div><div class=doc-part-box id=mediaquery><h2>媒体查询</h2><p>不同屏幕宽度的判断界线.</p><pre class=bg-gray-lt>
  // 手机(640px以下视为手机)
  $screen-phone = 640px
  // 小平板640以上,768px以下
  $screen-tablet = 768px
  // 大平板768以上,992px以下
  $screen-bigtablet = 992px
  // pc屏幕1200px以上
  $screen-pc = 1200px

</pre><br /><p>媒体查询可以实现不同屏幕尺寸显示不同样式.语法如下.</p><pre class=bg-gray-lt>
// 宽度640px以上屏幕
@media only screen and (min-width: 640px) {
  #mediaquerydiv1 {
    color: green;
  }
}
// 980~1200px之间屏幕
@media only screen and (min-width: 980px) and (max-width: 1200px) {
  #mediaquerydiv1 {
    color: blue;
  }
}
// 大于1200px
@media only screen and (min-width: 1200px) {
  #mediaquerydiv1 {
    color: black;
    font-weight:bold;
  }
}
</pre><br /><style>#mediaquerydiv1{color:#f00;border:1px solid #aaa}@media only screen and (min-width:640px){#mediaquerydiv1{color:#008000}}@media only screen and (min-width:980px) and (max-width:1200px){#mediaquerydiv1{color:#00f}}@media only screen and (min-width:1200px){#mediaquerydiv1{color:#000;font-weight:bold}}</style><div id=mediaquerydiv1 class=pd-10><p>640px以下:红色文字 | 640px以上:绿色文字 | 980px ~ 1200px 蓝色文字 | 1200px以上 黑色文字加粗</p><p>调整浏览器大小查看效果</p></div></div><div class=doc-part-box id=toolclass><h2>工具样式</h2><p>为了方便使用,做一些单一功能的样式类.所谓"原子样式",组合使用多种原子样式达到一定效果.这种做法灵活搭配,也可以减少重复的css条目.</p><p class=article-title>text-overflow</p><p>文本超出时,显示省略号.需要给元素设置宽度width或者max-width,否则没有效果.</p><p class=text-overflow style=width:260px title=text-overflow文本超出时,显示省略号>class="<strong>text-overflow</strong>" 文本超出时,显示省略号</p><pre class=bg-gray-lt>
  // text-overflow类设置了max-width:100%
  &lt;p class="<strong>text-overflow</strong>" style="width:260px" title="text-overflow文本超出时,显示省略号">
    class="text-overflow" 文本超出时,显示省略号
  &lt;/p>

</pre><p class=article-title>文本对齐</p><div class=grids-3><p class="text-left bg-gray mg-lr-10">class="text-left" 左</p><p class="text-center bg-primary mg-lr-10">class="text-center" 中</p><p class="text-right bg-info mg-lr-10">class="text-right" 右</p></div><p class=article-title>文本大小</p><p class="bg-gray-lt text-sm">text-sm 12px</p><p class=bg-gray-lt>默认 14px</p><p class="bg-gray-lt text-md">text-md 16px</p><p class="bg-gray-lt text-lg">text-lg 20px</p><p class="bg-gray-lt text-xl">text-xl 24px</p><p class="bg-gray-lt text-xxl">text-xxl 36px</p><p class="bg-gray-lt text-xxxl">text-xxxl 48px</p><p class=article-title>text-in</p><p># 段落开头缩进2em</p><p class=text-in>class="<strong>text-in</strong>" 这个用于一段文字开头缩进2em.表示一段文字的开始.</p><p class=article-title>文本颜色</p><p># 主题文本色</p><div class=grids-5><p class="text-primary bg-gray-lt pd-5 mg-lr-10">class="text-primary"</p><p class="text-danger bg-gray-lt pd-5 mg-lr-10">class="text-danger"</p><p class="text-success bg-gray-lt pd-5 mg-lr-10">class="text-success"</p><p class="text-info bg-gray-lt pd-5 mg-lr-10">class="text-info"</p><p class="text-warning bg-gray-lt pd-5 mg-lr-10">class="text-warning"</p></div><div class=grids-5><p class="text-primary-dk bg-gray-lt pd-5 mg-lr-10">class="text-primary-dk"</p><p class="text-danger-dk bg-gray-lt pd-5 mg-lr-10">class="text-danger-dk"</p><p class="text-success-dk bg-gray-lt pd-5 mg-lr-10">class="text-success-dk"</p><p class="text-info-dk bg-gray-lt pd-5 mg-lr-10">class="text-info-dk"</p><p class="text-warning-dk bg-gray-lt pd-5 mg-lr-10">class="text-warning-dk"</p></div><div class=grids-5><p class="text-primary-lt bg-gray-lt pd-5 mg-lr-10">class="text-primary-lt"</p><p class="text-danger-lt bg-gray-lt pd-5 mg-lr-10">class="text-danger-lt"</p><p class="text-success-lt bg-gray-lt pd-5 mg-lr-10">class="text-success-lt"</p><p class="text-info-lt bg-gray-lt pd-5 mg-lr-10">class="text-info-lt"</p><p class="text-warning-lt bg-gray-lt pd-5 mg-lr-10">class="text-warning-lt"</p></div><p># 黑白灰</p><div class=grids-3><span class="text-black-lt bg-gray-lt pd-5 mg-10">默认文字颜色#333 class="text-black-lt"</span> <span class="text-black bg-gray-lt pd-5 mg-10">黑色 class="text-black"</span> <span class="text-white bg-black-lt pd-5 mg-10">白色 class="text-white"</span> <span class="text-gray bg-black-lt pd-5 mg-10">灰色 class="text-gray"</span> <span class="text-gray-dk bg-black-lt pd-5 mg-10">深灰色 class="text-gray-dk"</span> <span class="text-gray-lt bg-black-lt pd-5 mg-10">浅灰色 class="text-gray-lt"</span></div><p class=article-title>背景颜色</p><p># 主题背景颜色</p><div class=grids-5><p class="bg-primary text-white pd-5 mg-lr-10">class="bg-primary"</p><p class="bg-danger text-white pd-5 mg-lr-10">class="bg-danger"</p><p class="bg-success text-white pd-5 mg-lr-10">class="bg-success"</p><p class="bg-info text-white pd-5 mg-lr-10">class="bg-info"</p><p class="bg-warning text-white pd-5 mg-lr-10">class="bg-warning"</p></div><div class=grids-5><p class="bg-primary-dk text-white pd-5 mg-lr-10">class="bg-primary-dk"</p><p class="bg-danger-dk text-white pd-5 mg-lr-10">class="bg-danger-dk"</p><p class="bg-success-dk text-white pd-5 mg-lr-10">class="bg-success-dk"</p><p class="bg-info-dk text-white pd-5 mg-lr-10">class="bg-info-dk"</p><p class="bg-warning-dk text-white pd-5 mg-lr-10">class="bg-warning-dk"</p></div><div class=grids-5><p class="bg-primary-lt text-white pd-5 mg-lr-10">class="bg-primary-lt"</p><p class="bg-danger-lt text-white pd-5 mg-lr-10">class="bg-danger-lt"</p><p class="bg-success-lt text-white pd-5 mg-lr-10">class="bg-success-lt"</p><p class="bg-info-lt text-white pd-5 mg-lr-10">class="bg-info-lt"</p><p class="bg-warning-lt text-white pd-5 mg-lr-10">class="bg-warning-lt"</p></div><p># 黑白灰</p><div class=grids-3><span class="bg-black-opa50 pd-5 mg-10">半透明黑 class="bg-black-opa50"</span> <span class="bg-black text-white pd-5 mg-10">黑色 class="bg-black"</span> <span class="bg-white pd-5 mg-10">白色 class="bg-white"</span> <span class="bg-gray pd-5 mg-10">灰色 class="bg-gray"</span> <span class="bg-gray-dk pd-5 mg-10">深灰色 class="bg-gray-dk"</span> <span class="bg-gray-lt pd-5 mg-10">浅灰色 class="bg-gray-lt"</span></div><p class=article-title>边距margin 内容距padding</p><p># pd-n(n=5,10,15,..,45,50) 四个方向(l,r,t,b) pd-l-n pd-r-n pd-t-n pd-b-n, 可以组合上下与左右 pd-lr-n pd-tb-n</p><div style="border:1px solid #eee"><span class="pd-10 bg-primary">class="pd-10"</span> <span class="pd-t-10 bg-primary">class="pd-t-10" 上</span> <span class="pd-b-10 bg-primary">class="pd-b-10" 下</span> <span class="pd-lr-10 bg-primary">class="mg-lr-20" 左右</span> <span class="pd-tb-10 bg-primary">class="mg-tb-20" 上下</span></div><p class=article-title>margin-auto margin-lr-auto</p><p>有宽度的块级元素左右居中,样式内容是: margin-left:auto margin-right:auto margin:auto</p><div style="border:1px solid #eee"><div class="mg-lr-auto bg-primary-lt mg-10" style=width:300px>class="mg-lr-auto" width:300px</div><div class="mg-auto bg-info-lt" style=width:300px>class="mg-auto" width:300px</div></div><br /><p class=article-title>隐藏与显示</p><p>d-none d-block 媒体查询:针对不同大小屏幕 d - sm|md|lg|xl - none|block</p><p>例1,只在640px以下小屏幕才显示: class='d-block d-sm-none'</p><p>例2,只在992px以上大屏幕才显示: class='d-none d-lg-block'</p><div class=grids-4><span class="d-block pd-5 d-sm-none bg-danger mg-lr-10">小屏幕 640px以下显示</span> <span class="d-none pd-5 d-sm-block bg-gray mg-lr-10">小平版 640px以上显示</span> <span class="d-none pd-5 d-lg-block bg-primary mg-lr-10">大平板 992px以上显示</span> <span class="d-none pd-5 d-xl-block bg-success mg-lr-10">PC 1200px以上显示</span></div></div><style>.layoutdemo1{display:grid;grid-template-columns:30% 70%}.layoutdemo1 .menubox{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}.layoutdemo2{display:grid;grid-template-rows:45px auto 56px}</style><div class=doc-part-box id=pagelayout><h2>常见页面布局</h2><p>使用grid布局的强大功能可以容易的做出一些常见页面布局</p><p class=article-title>左右布局</p><p>左边是菜单,占30%,右边是内容占70%.</p><p>使用grid布局,可以看成是一行二列的页面,行高是自动的,列宽进行了设置.</p><div class=grids><div class=layoutdemo1 style=width:500px;max-width:100%><div class=bg-primary></div><div class=bg-warning></div></div><pre class="grid mg-l-10 bg-gray-lt">
    // 容器DIV用grid布局,里面两栏两个DIV
    &lt;div class="layoutdemo1">
      &lt;div class="bg-primary">&lt;/div>
      &lt;div class="bg-warning">&lt;/div>
    &lt;/div>

    // 样式
    .layoutdemo1 {
      display: grid;
      grid-template-columns: 30% 70%;
    }

</pre><pre class="grid bg-gray-lt">
    // 左边固定宽度,右边自动宽度
    .layoutdemo1 {
      display: grid;
      grid-template-columns: 180px auto;
    }

</pre></div><br /><p>左边菜单区域固定,不随右边内容区域滚动</p><div class=grids><div class=layoutdemo1 style=width:500px;max-width:100%;height:290px;overflow-y:auto><div class=bg-primary><div class=menubox><nav class=sidemenu-box><ul class=sidemenu-group><li><a class=sidemenu-item>菜单1</a></li><li><b class=sidemenu-split></b></li><li><a class=sidemenu-item>菜单2</a></li><li><a class=sidemenu-item>菜单3</a></li><li><a class=sidemenu-item>菜单4</a></li></ul></nav></div></div><div class=bg-warning style=height:500px></div></div><pre class="grid mg-l-10 bg-gray-lt">
    // html
    &lt;div class="layoutdemo1" style="width:500px;max-width:100%;">
      &lt;div class="bg-primary">
        &lt;div class="menu-box">
        &lt;/div>
      &lt;/div>
      &lt;div class="bg-warning">&lt;/div>
    &lt;/div>

    // 给菜单容器加sticky定位,这个类似于固定定位,当位置超过top的之后就固定不动了
    .menu-box {
        position: sticky;
        top: 0;
        width: 94%;
        max-height: 100vh;
        overflow-x: hidden;
        overflow-y: auto;
    }

</pre></div><p class=article-title>上(中)下布局</p><p>用于PC和手机的常见布局,对于PC页面,上面是主菜单,中间是内容,下面是页脚.</p><p>外层容器grid布局,上中下3个DIV可以看作是一个1列3行的页面.列宽自动,行高进行设置.</p><div class=grids><div class=layoutdemo2 style=width:500px;height:300px><div class=bg-primary></div><div class=bg-warning></div><div class=bg-danger></div></div><pre class="grid mg-l-10 bg-gray-lt">
    // 外层grid布局,里面3个DIV
    &lt;div class="layoutdemo2" style="width:500px;height:300px">
      &lt;div class="bg-primary">&lt;/div>
      &lt;div class="bg-gray">&lt;/div>
      &lt;div class="bg-danger">&lt;/div>
    &lt;/div>

    // 中间层高度自动,这样会将下层div挤到贴底部的位置
    .layoutdemo2 {
      display: grid;
      grid-template-rows: 45px auto 56px;
    }

</pre></div><br /><p>对于手机页面,上面是回退工具栏,中间是内容,下面是主菜单. <a href=#mdirbar>示例</a></p><p>手机这个布局的特定是,顶部工具栏和底部主菜单是固定不动的,中间内容区域可以滚动.grid的设置如下:</p><pre class=bg-gray-lt>
    // 页面高度要设置100%,这个是为了下面的容器DIV能设置100%的高度
    html, body {
      height: 100%;
    }
    // 外层容器,grid布局,高度100%,设置上中下的高度
    .container {
      display: grid;
      grid-template-rows: 36px auto 44px;
      height: 100%;
      // 也可以设置100vh,那么html,body就不用设置高度
      // 但有个小问题,手机浏览器100vh的高度是包含地址栏的,这时下层的主菜单就会挤到屏幕下面
      // 如果是在webview中,没有地址栏,则不存在这问题
      // height: 100vh;
    }
    // 内容层需要设置滚动条,否则会撑开外层容器,高度超过100%,把主菜单挤下屏幕
    .content{
      overflow-y:auto;
    }

</pre></div><div class=doc-part-box id=typography><h2>大标题</h2><p>对h1~h6和p标签的样式,h标题字体大小来自bootstrap4</p><p># h6号标题的font-size值是 font-size: calc(var(--font-size) + 2px) ,其它号也是基于--font-size计算的</p><p class=article-title>h1-h6</p><h1>h1 标题 40px</h1><h2>h2 标题 32px</h2><h3>h3 标题 28px</h3><h4>h4 标题 24px</h4><h5>h5 标题 20px</h5><h6>h6 标题 16px</h6><p class=article-title>p</p><p>简单的设置了下边margin-bottom 16px</p><p>第 0 段,.....</p><p>第 1 段,.....</p><p>第 2 段,.....</p><p>第 3 段,.....</p></div><div class=doc-part-box id=article><h2>段落标题</h2><p>段落标题用于一段文字的分割标题,使用 p 标签和 article-title 样式.</p><p class=article-title>彷徨-孤独者</p><p>这也不足为奇,中国的兴学虽说已经二十年了,寒石山却连小学也没有.全山村中,只有连殳是出外游学的学生,所以从村人看来,他确是一个异类;但也很妒羡,说他挣得许多钱.</p><p class="article-title primary">主题色</p><p class="article-title danger">主题色</p><p class="article-title text-lg">大尺寸的</p><pre class=bg-gray-lt>
  &lt;p class="<strong>article-title</strong>">彷徨-孤独者&lt;/p>

  // 主题颜色
  &lt;p class="article-title <strong>primary</strong>">主题&lt;/p>

  // 大小
  &lt;p class="article-title primary <strong>text-lg</strong>">大尺寸的&lt;/p>

</pre></div><div class=doc-part-box id=btn><h2>按钮</h2><p># 使用自定义标记 <strong>&lt;m-btn></strong> .也可以使用a,span,button标记添加 .btn 样式.</p><div class=mg-tb-10><m-btn>btn normal</m-btn><m-btn class="link mg-lr-10">链接式 link</m-btn><m-btn class="disabled mg-lr-10">禁用 disabled</m-btn><m-btn class="cir mg-lr-10">圆角 cir</m-btn><m-btn class=loading>等待中 loading</m-btn></div><pre class=bg-gray-lt>
    &lt;m-btn>btn normal&lt;/m-btn>

    &lt;m-btn class="<strong>link</strong>">链接式&lt;/m-btn>

    &lt;m-btn class="<strong>disabled</strong>">禁用&lt;/m-btn>

    &lt;m-btn class="<strong>cir</strong>">圆角&lt;/m-btn>

    &lt;m-btn class="<strong>loading</strong>">等待中&lt;/m-btn>

</pre><br /><p># 主题颜色,大小尺寸,块级</p><div class=mg-tb-10><m-btn class="btn primary mg-r-10">primary</m-btn><m-btn class="btn danger mg-r-10">danger</m-btn><m-btn class="btn success mg-r-10">success</m-btn><m-btn class="btn info mg-r-10">info</m-btn><m-btn class="btn warning mg-r-10">warning</m-btn></div><div class=mg-tb-10><m-btn class="btn link primary">hover primary link</m-btn><m-btn class="btn link danger">hover danger link</m-btn><m-btn class="btn link success">hover success link</m-btn><m-btn class="btn link info">hover info link</m-btn><m-btn class="btn link warning">hover warning link</m-btn></div><div class=mg-tb-10><m-btn class="btn link text-primary">text-primary link</m-btn><m-btn class="btn link text-danger">text-danger link</m-btn><m-btn class="btn link text-success">text-success link</m-btn><m-btn class="btn link text-info">text-info link</m-btn><m-btn class="btn link text-warning">text-warning link</m-btn></div><div class=mg-tb-10><m-btn class="btn text-sm loading mg-r-10">text-sm</m-btn><m-btn class="btn text-md loading mg-r-10">text-md</m-btn><m-btn class="btn text-lg loading mg-r-10">text-lg</m-btn><m-btn class="btn text-xl loading mg-r-10">text-xl</m-btn><m-btn class="btn text-xxl loading mg-r-10">text-xxl</m-btn><m-btn class="btn text-xxxl loading mg-r-10">text-xxxl</m-btn></div><div class=mg-tb-10><m-btn class="btn d-block">块级按钮</m-btn><br /><m-btn class="btn d-block primary">块级按钮class="btn d-block primary"</m-btn></div><pre class=bg-gray-lt>
  &lt;m-btn class="primary">primary&lt;/m-btn>

  // link连接式按钮的文字颜色,添加工具样式 text-primary|success|....
  &lt;m-btn class="link text-primary">primary link&lt;/m-btn>

  // 调整按钮大小,添加工具样式 text-sm|md|lg|....
  &lt;m-btn class="text-sm">btn text-sm&lt;/m-btn>

  // 块级按钮就是占一行的,添加 d-block
  &lt;m-btn class="d-block">btn d-block&lt;/m-btn>

</pre><br /><p># 如果按钮处于等待状态,说明任务进行中,忽略之.这种场景用于避免按钮频繁点击. &lt;m-btn> 定义了添加和删除等待状态的方法.</p><p><m-btn id=btnloadtest1 class="btn mg-r-10">点击等待 isLoading()</m-btn><m-btn id=btnloadtest2 class=btn>消除等待 clsLoading(2000)</m-btn></p><pre class=bg-gray-lt>
  let btn1 = document.querySelector('#btnloadtest1');

  // 如果按钮处于等待状态(含有loading样式类),返回true.否则添加loading样式,返回false.
  btn1.<strong>isLoading()</strong>

  // 取消按钮等待状态(去掉loading样式类).可选参数:经过time毫秒后取消.
  btn1.<strong>clsLoading(time)</strong>

</pre><script>(()=>{let n=document.querySelector("#btnloadtest1"),t=document.querySelector("#btnloadtest2");n.onclick=()=>{n.isLoading()&&n.clsLoading()};t.onclick=()=>{t.isLoading()==!1&&t.clsLoading(2e3)}})()</script></div><div class=doc-part-box id=btngroup><h2>按钮组</h2><p>按钮组包含多个按钮,一般用于一组性质相近的功能.同一组的按钮大小要相同.</p><p>按钮组容器使用<b>inline-flex</b>布局,是个行内flex布局,元素会变为行为元素.里面按钮flex:auto(1 1 auto)</p><p># 横排按钮组</p><span class=btn-group><a class=btn>加粗</a> <a class=btn>下划线</a> <a class=btn>倾斜</a> <a class="btn primary">字体</a> <a class=btn>复制</a> <a class=btn>剪切</a></span>     <div class="btn-group cir"> <a class="btn bg-info">加粗圆角</a> <a class=btn>下划线</a> <a class=btn>倾斜</a> <a class=btn>字体</a> <a class=btn>复制</a> <a class="btn bg-danger">剪切</a></div><br /><br /><pre class=bg-gray-lt>
  &lt;span class="<strong>btn-group</strong>">
    &lt;a class="btn">加粗&lt;/a>
    &lt;a class="btn">下划线&lt;/a>
    &lt;a class="btn">倾斜&lt;/a>
    &lt;a class="btn">字体&lt;/a>
    &lt;a class="btn">复制&lt;/a>
    &lt;a class="btn">剪切&lt;/a>
  &lt;/span>

  // 首末按钮圆角
  &lt;div class="btn-group <strong>cir</strong>">&lt;/div>

</pre><br /><p># 下拉式按钮组</p><p>第1个按钮用于下拉框标题,用伪类加三角符号.当鼠标hover容器时,显示下拉按钮组.下拉框容器使用span行内块.</p><p>按钮组<b>btn-list-area</b>绝对定位于容器<b>btn-list-group</b>,里面包含下拉按钮列表.</p><span class=btn-list-group><a class=btn>鼠标hover</a> <span class=btn-list-area><a class="btn primary">新建</a> <a class=btn>编辑</a> <a class="btn info">打开</a> <a class="btn danger">导出</a> <a class="btn warning">导入</a> <a class="btn success">退出</a></span></span><br /><br /><pre class=bg-gray-lt>
&lt;<b>span</b> class="<b>btn-list-group</b>">
  &lt;a class="btn">悬停&lt;/a>
  &lt;span class="<b>btn-list-area</b>">
    &lt;a class="btn primary">新建&lt;/a>
    &lt;a class="btn">编辑&lt;/a>
    &lt;a class="btn info">打开&lt;/a>
    &lt;a class="btn danger">导出&lt;/a>
    &lt;a class="btn warning">导入&lt;/a>
    &lt;a class="btn success">退出&lt;/a>
  &lt;/span>
&lt;/span>
</pre><br /><p>将下拉式按钮组放在横向按钮组里</p><div class=btn-group><a class=btn>默认选项</a> <span class=btn-list-group><a class=btn>颜色</a> <span class=btn-list-area><a class="btn danger">红</a> <a class="btn success">绿</a> <a class=btn>白</a></span></span> <span class=btn-list-group><a class=btn>操作</a> <span class=btn-list-area><a class="btn success">新建</a> <a class=btn>编辑</a> <a class="btn primary">打开</a> <a class="btn danger">导出</a> <a class="btn primary">导入</a> <a class="btn success">退出</a></span></span></div></div><div class=doc-part-box id=onoff><h2>开关</h2><p>switch使用自定义标记 &lt;m-switch class="switch">主要用于事项的停用/启用状态.</p><div class=mg-b-10><m-switch class=mg-r-10></m-switch><m-switch class="checked mg-r-10"></m-switch><m-switch class=mg-r-10 on=开 off=关></m-switch><m-switch class="checked mg-r-10" on=开 off=关></m-switch><m-switch class=mg-r-10 on=启用 off=停用></m-switch><m-switch class=checked on=启用 off=停用></m-switch></div><div class=mg-b-10><m-switch class="checked primary mg-r-10"></m-switch><m-switch class="checked danger mg-r-10"></m-switch><m-switch class="checked success mg-r-10"></m-switch><m-switch class="checked info mg-r-10"></m-switch><m-switch class="checked warning mg-r-10"></m-switch></div><div class=mg-b-10><m-switch class="checked text-sm mg-r-10"></m-switch><m-switch class="checked text-md mg-r-10"></m-switch><m-switch class="checked text-lg mg-r-10"></m-switch><m-switch class="checked text-xl mg-r-10"></m-switch><m-switch class="checked text-xxl mg-r-10"></m-switch><m-switch class="checked text-xxxl mg-r-10"></m-switch></div><p># 不使用自定义标记实现的方式是:</p><p class=text-in>使用input(type=checkbox)和label两个标记,利用label的for属性和checkbox的id属性关联的特点,再用CSS选择器check判断checkbox选中时和未选中时,分别显示label的on/off状态.chekcbox放在label的前面,便于css选择器操作.</p><div class="mg-b-10 mg-l-10"><input type=checkbox id=onoff1 /><label for=onoff1>点击label,for属性关联checkbox</label></div><p class=text-in>这种办法不用写js就能实现.使用自定义标记后,由于可以使用js了,所以很简单了</p><p># dom属性 <strong>on off</strong></p><p class=text-in>默认值是 'ON','OFF',用于显示标题.可以自定义成'开''关'</p><p># 初始状态</p><p class=text-in>状态为OFF,如果要为ON,需要添加样式 ".checked"</p><p># 属性 <strong>checked</strong> 获取开关状态</p><p># 属性 <strong>onClicked</strong> 设置点击后执行事件</p><pre class=bg-gray-lt>

  let switch1 = document.getElementById('switch1');

  // m-switchd的checked属性,checked属性.开返回true,关返回false
  let isonoff = switch1<strong>.checked</strong> // true | false

  // 点击后执行一个方法 self 就是 m-swtich 对象
  switch1<strong>.onClicked</strong> = (self)=>{
    if(self.checked)
        msgbox.alert('状态是: 开');
  }

</pre><br /><pre class=bg-gray-lt>
  // class="switch"
  &lt;m-switch <strong>on="开" off="关"</strong> class="<strong>switch checked</strong>">&lt;/m-switch>

  // 主题色与大小
  &lt;m-switch class="<strong>primary</strong>">&lt;/m-switch>
  &lt;m-switch class="<strong>text-lg</strong>">&lt;/m-switch>

</pre></div><div class=doc-part-box id=label><h2>标签</h2><p>默认标签背景颜色继承父级,可以自定义标签背景色,文字色,也可以使用主题背景色</p><span class=label>默认标签</span> <span class="label cir">圆角 class="label cir"</span> <span class="label text-white bg-black-lt">暗色背景 class="label text-white bg-black-lt"</span><div class=mg-tb-10> <span class="label cir primary">primary</span> <span class="label cir danger">danger</span> <span class="label cir success">success</span> <span class="label cir info">info</span> <span class="label cir warning">warning</span></div><div class=mg-tb-10><span class="label text-sm">text-sm</span> <span class="label text-md">text-md</span> <span class="label text-lg">text-lg</span> <span class="label text-xl">text-xl</span> <span class="label text-xxl">text-xxl</span> <span class="label text-xxxl">text-xxxl</span></div><pre class=bg-gray-lt>
  // 
  &lt;span class="<strong>label</strong>">默认标签&lt;/span>

  // 背景和字体颜色
  &lt;span class="label <strong>text-white bg-dark</strong>">暗色背景 class="bg-dark"&lt;/span>

  // 圆角
  &lt;span class="label <strong>cir</strong>">圆角 class="label cir"&lt;/span>
  
</pre></div><div class=doc-part-box id=kvpair><h2>名值对标签</h2><p class=lead>标题和内容两个部分,用于简短的提示或者说明.</p><div class="kvpair mg-b-10"><span class=key>Name</span> <span class=val>Value</span></div><p># .kvpair使用grid布局,子项垂直居中.宽度auto.</p><pre class=bg-gray-lt>
    &lt;div class="<b>kvpair</b>">
      &lt;span class="<b>key</b>">Name&lt;/span>
      &lt;span class="<b>val</b>">Value&lt;/span>
    &lt;/div>

</pre><br /><p># 背景色在key上使用背景样式 bg-primary bg-info 等等.</p><div class=mg-b-10><div class="kvpair mg-r-10"><span class="key bg-primary">信仰</span> <span class=val>自由奔放</span></div><div class="kvpair mg-r-10"><span class="key bg-warning">爱好</span> <span class=val>游山玩水</span></div><div class="kvpair mg-r-10"><span class="key bg-gray">提示</span> <span class="val bg-danger text-white">不可嬉戏</span></div></div><br /><p># 圆角与大小</p><div class=mg-b-10><div class="kvpair mg-r-10"><span class="key cir bg-warning">生产总值</span> <span class=val>$10000</span></div><div class="kvpair mg-r-10"><span class="key cir bg-info">上线人数</span> <span class="val cir">200</span></div><div class="kvpair mg-r-10"><span class="key cir bg-gray">咖啡</span> <span class="val cir">不加糖和奶</span></div><div class="kvpair mg-r-10"><span class="key cir bg-success">YouTube</span> <span class="val cir">一个网上电视台</span></div></div><div class=mg-b-10><div class="kvpair text-sm mg-r-10"><span class="key cir bg-info">sm</span> <span class="val cir">text-sm</span></div><div class="kvpair text-md mg-r-10"><span class="key cir bg-info">md</span> <span class="val cir">text-md</span></div><div class="kvpair text-lg mg-r-10"><span class="key cir bg-info">lg</span> <span class="val cir">text-lg</span></div><div class="kvpair text-xl mg-r-10"><span class="key cir bg-info">xl</span> <span class="val cir">text-xl</span></div><div class="kvpair text-xxl mg-r-10"><span class="key cir bg-info">xxl</span> <span class="val cir">text-xxl</span></div><div class="kvpair text-xxxl mg-r-10"><span class="key cir bg-info">xxxl</span> <span class="val cir">text-xxxl</span></div></div><p># 其它用法,值是一个链接.值一个按钮组件.</p><div class=mg-b-10><div class="kvpair mg-r-10"><span class="key cir bg-info">谷歌</span> <a class="val cir" href=https://www.google.com target=_blank>https://www.google.com</a></div><div class="kvpair mg-r-10"><span class="key cir">按钮</span> <a class="val btn">On / Off</a></div><br /><br /><pre class=bg-gray-lt>
    &lt;div class="kvpair mg-r-10">
      &lt;span class="key cir">按钮&lt;/span>
      &lt;a class="val btn">On / Off&lt;/a>
    &lt;/div>

</pre></div></div><div class=doc-part-box id=imagedemo><h2>图片</h2><p>自动适应父容器大小 class="img-autosize" 圆角class="img-rounded" 圆形class="img-circle"</p><div class=grids><div class=grid><img class=img-autosize style="border:1px solid var(--color-gray)" src=img/imgdemo.gif /></div><div class=grid><img class=img-rounded style="border:1px solid var(--color-gray)" src=img/imgdemo.gif /></div><div class=grid><img class=img-circle style="border:1px solid var(--color-gray)" src=img/imgdemo.gif /></div></div><br /><pre class=bg-gray-lt>

  &lt;div class="grid">&lt;img class="<strong>img-autosize</strong>" >&lt;/div>
  &lt;div class="grid">&lt;img class="<strong>img-rounded</strong>" >&lt;/div>
  &lt;div class="grid">&lt;img class="<strong>img-circle</strong>" >&lt;/div>

</pre></div><div class=doc-part-box id=panel><h2>面板</h2><p>分两部分,上面是标题区,下面是内容区.面板是个容器,可放入其它组件.</p><div class=grids><div class="grid panel mg-5"><div class="panel-head bg-gray-lt"><h4>面板标题</h4></div><div class=panel-body><p>面板内容...</p></div></div><div class=grid><div class="panel mg-5"><div class="panel-head bg-info"><h4>容器组件</h4></div><div class="panel-body bg-gray text-center">可以放入其它组件,例如列表ul,表格table,图片,段落等</div></div></div></div><br /><pre class=bg-gray-lt>
  &lt;div class="<strong>panel</strong>">
    &lt;div class="<strong>panel-head</strong>">
      &lt;h2>标题区域&lt;/h2>
    &lt;/div>
    &lt;div class="<strong>panel-body</strong>">
      内容区域,可以加入其它组件
    &lt;/div>
  &lt;/div>

</pre></div><div class=doc-part-box id=msgpanel><h2>信息牌</h2><p>内容包含标题和一段文字.标题使用h1~h6,文字段落使用p.</p><div class="msgpanel mg-b-10"><h5>标题h1~h6</h5><p>可用于介绍说明,有一个醒目的标题和简短的文字描述.</p></div><div class="msgpanel primary mg-b-10"><h5 class=text-primary-dk>主题样式</h5><p>class="msgpanel primary",左边框会应用主题色.</p></div><div class="msgpanel warning mg-b-10 bg-warning-lt"><h5 class=text-warning-dk>! 安全警示</h5><p class=text-warning-dk>进入前必须检查防护服!</p></div><pre class=bg-gray-lt>
  &lt;div class="<strong>msgpanel primary</strong>">
    &lt;h2>标题h1~h6&lt;/h2>
    &lt;p>可用于介绍说明,有一个醒目的标题和简短的文字描述.&lt;/p>
  &lt;/div>

</pre></div><div class=doc-part-box id=hrline><h2>hr分隔线</h2><p>简单的分割线.跨度1px,margin:20px auto</p><hr class=line /><p>class="line bg-primary"</p><hr class="line bg-primary" /><p>class="line bg-danger"</p><hr class="line bg-danger" /><p>class="line bg-success"</p><hr class="line bg-success" /><p>class="line bg-info"</p><hr class="line bg-info" /><p>class="line bg-warning"</p><hr class="line bg-warning" /><pre class=bg-gray-lt>
  &lt;hr class="<strong>line</strong>" />
  // 
  &lt;hr class="line bg-primary" />

</pre></div><div class=doc-part-box id=list><h2>列表</h2><p># 使用ul,ol标记,加list类. &lt;ul class="list"> &lt;ol class="list"></p><p class=text-in>根据原有的ul,ol的样式,稍微调整了li的padding上下.在嵌套时的padding左.另外,加了数值和字母序列</p><div class=grids><ul class="list pd-lr-50"><li>主食<ul class=list><li>面包</li><li>米饭</li><li>馒头</li><li>玉米</li></ul></li><li>饮料<ul class=list><li>咖啡</li><li>白酒</li><li>可乐</li><li>果汁</li></ul></li></ul><ol class="list bg-gray-lt pd-lr-50"><li>水果<ol class="list cir primary"><li>香蕉</li><li>苹果</li><li>柚子</li><li>葡萄</li></ol></li><li>蔬菜<ol class="list cir success"><li>白菜</li><li>黄瓜</li><li>萝卜</li><li>莴笋</li></ol></li></ol><ol class="list num bg-warning-lt pd-lr-50"><li>畜<ol class="list square danger"><li>猪肉</li><li>牛肉</li><li>羊肉</li><li>鹿肉</li></ol></li><li>禽<ol class="list square info"><li>鸡肉</li><li>鹌鹑</li><li>鸭肉</li><li>鹅肉</li></ol></li></ol><ol class="list num bg-info-lt pd-lr-50"><li>餐具<ol class="list num"><li>碗</li><li>盘</li><li>筷</li><li>勺</li></ol></li><li>会员<ol class="list num"><li>普通</li><li>大户</li><li>资深</li><li>贵宾</li></ol></li></ol><ol class="list abc bg-success-lt pd-lr-50"><li>优惠<ol class="list abc"><li>50免5</li><li>会员<ol class="list abc"><li>普通,大户8折</li><li>资深7.5折</li><li>贵宾7折</li></ol></li></ol></li><li>优惠券<ol class="list abc"><li>酒10元</li><li>肉10元</li><li>免5元</li></ol></li></ol></div><br /><p># 数值编号,字母编号样式</p><p class=text-in>嵌套的序列使用了css的 "counter-reset" "counter-increment" "counters()" 这三个属性和方法</p><pre class=bg-gray-lt>
  // 方块 , 圆
  &lt;ul class="list <strong>square</strong>">
  &lt;ul class="list <strong>cir</strong>">

  // 主题色
  &lt;ul class="list <strong>primary</strong>">

  // 数值 , 字母
  &lt;ul class="list <strong>num</strong>">
  &lt;ul class="list <strong>abc</strong>">
  
  // 嵌套
  &lt;li>
    优惠券
    &lt;ol class="list abc">
      &lt;li>酒10元&lt;/li>
      &lt;li>肉10元&lt;/li>
      &lt;li>免5元&lt;/li>
    &lt;/ol>
  &lt;/li>

  <b>注意:</b>嵌套的ul,ol,也要加上 class="list num|abc" 样式

</pre></div><div class=doc-part-box id=table><h2>表格</h2><p># table 简单的表格样式,占据整行.</p><table class=table><tr><th>#</th><th>名字</th><th>职位</th></tr><tr><td>1</td><td>关羽</td><td>前将军</td></tr><tr><td>2</td><td>张飞</td><td>右将军</td></tr><tr><td>3</td><td>马超</td><td>左将军</td></tr><tr><td>4</td><td>黄忠</td><td>后将军</td></tr><tr><td>5</td><td>赵云</td><td>翊将军</td></tr></table><br /><p># hover 鼠标效果</p><table class="table hover"><tr class=bg-primary-dk><th>#</th><th>名字</th><th>职位</th></tr><tr><td>1</td><td>关羽</td><td>前将军</td></tr><tr><td>2</td><td>张飞</td><td>右将军</td></tr><tr><td>3</td><td>马超</td><td>左将军</td></tr><tr><td>4</td><td>黄忠</td><td>后将军</td></tr><tr><td>5</td><td>赵云</td><td>翊将军</td></tr></table><br /><pre class=bg-gray-lt>
&lt;table class="<strong>table</strong>">
    &lt;tr class="bg-primary-dk">&lt;th>#&lt;/th>&lt;th>名字&lt;/th>&lt;th>职位&lt;/th>&lt;/tr>
    &lt;tr>&lt;td>1&lt;/td>&lt;td>关羽&lt;/td>&lt;td>前将军&lt;/td>&lt;/tr>
&lt;/table>

&lt;table class="<strong>table hover</strong>">&lt;/table>

</pre><br /><p># striped 隔行色,不和hover同时使用</p><table class="table striped"><tr><th>#</th><th>名字</th><th>职位</th></tr><tr><td>1</td><td>关羽</td><td>前将军</td></tr><tr><td>2</td><td>张飞</td><td>右将军</td></tr><tr><td>3</td><td>马超</td><td>左将军</td></tr><tr><td>4</td><td>黄忠</td><td>后将军</td></tr><tr><td>5</td><td>赵云</td><td>翊将军</td></tr></table><br /><p>隔行色加主题色</p><table class="table striped primary"><tr><th>#</th><th>名字</th><th>职位</th></tr><tr><td>1</td><td>关羽</td><td>前将军</td></tr><tr><td>2</td><td>张飞</td><td>右将军</td></tr><tr><td>3</td><td>马超</td><td>左将军</td></tr><tr><td>4</td><td>黄忠</td><td>后将军</td></tr><tr><td>5</td><td>赵云</td><td>翊将军</td></tr></table><br /><pre class=bg-gray-lt>
&lt;table class="table striped">&lt;/table>
&lt;table class="<strong>table striped primary</strong>">&lt;/table>

</pre><br /><p># border 外边框</p><table class="table border"><tr><th>#</th><th>名字</th><th>职位</th></tr><tr><td>1</td><td>关羽</td><td>前将军</td></tr><tr><td>2</td><td>张飞</td><td>右将军</td></tr><tr><td>3</td><td>马超</td><td>左将军</td></tr><tr><td>4</td><td>黄忠</td><td>后将军</td></tr><tr><td>5</td><td>赵云</td><td>翊将军</td></tr></table><br /><pre class=bg-gray-lt>
&lt;table class="<strong>table border</strong>">&lt;/table>

</pre><br /><p>border-all 内外边框</p><table class="table border-all bg-black-lt text-gray-lt"><tr><th>#</th><th>名字</th><th>职位</th></tr><tr><td>1</td><td>关羽</td><td>前将军</td></tr><tr><td>2</td><td>张飞</td><td>右将军</td></tr><tr><td>3</td><td>马超</td><td>左将军</td></tr><tr><td>4</td><td>黄忠</td><td>后将军</td></tr><tr><td>5</td><td>赵云</td><td>翊将军</td></tr></table><br /><pre class=bg-gray-lt>
&lt;table class="table <strong>border-all</strong> bg-black-lt text-gray-lt">&lt;/table>

</pre></div><div class=doc-part-box id=form><h2>表单元素</h2><p class=article-title>input文本框</p><div class=mg-b-10><label class="form-label mg-b-5">文本框</label><input class=input-text type=text value="123456abc中文-*=" /></div><div class=mg-b-10><label class="form-label mg-b-5">密码框</label><input class=input-text type=password value=123456 /></div><div class=mg-b-10><label class="form-label mg-b-5">Email</label><input class=input-text type=email value=xxx@mirror.com /></div><div class="mg-b-10 text-lg"><label class="form-label mg-b-5">文本框</label><input class="input-text mg-b-5" type=text value="123456abc中文-*=" /><input class=input-text disabled type=text value=disabled /></div><pre class=bg-gray-lt>
  &lt;label class="<strong>form-label</strong> mg-b-5">文本框&lt;/label>
  &lt;input class="<strong>input-text</strong>" type="text" value="123456abc中文-*=" />

  &lt;label class="form-label mg-b-5">密码框&lt;/label>
  &lt;input class="input-text" type="password" value="123456" />

  &lt;label class="form-label mg-b-5">Email&lt;/label>
  &lt;input class="input-text" type="email" value="xxx@mirror.com" />

  &lt;input class="input-text text-lg" type="text" value="123456abc中文-*=" />

  &lt;input class="input-text" disabled type="text" value="disabled" />

</pre><p class=article-title>textarea</p><label class="form-label mg-b-5">多行文本框</label><textarea class=textarea>多行文本框默认高度为100px,可以调整垂直方向大小.</textarea><br /><pre class=bg-gray-lt>
  &lt;label class="form-label mg-b-5">多行文本框&lt;/label>
  &lt;textarea class="<strong>textarea</strong>">多行文本框默认高度为100px,手动调整垂直方向大小.&lt;/textarea>

</pre><p class=article-title>select</p><div class=grids-4><div class=mg-lr-5><select class=select><option>明月几时有</option><option>把酒问青天</option><option>不知天上宫阙</option><option>今昔是何年</option></select></div><div class=mg-lr-5><select class=select><option>我欲乘风归去</option><option>又恐琼楼玉宇</option><option>高处不胜寒</option><option>起舞弄清影</option><option>何似在人间</option></select></div><div class=mg-lr-5><select class=select><option>转朱阁,低绮户,照无眠</option><option>不应有恨</option><option>何事长向别时圆</option></select></div><div class=mg-lr-5><select class=select><option>人有悲欢离合</option><option>月有阴晴圆缺</option><option>此事古难全</option><option>但愿人长久</option><option>千里共婵娟</option></select></div></div><br /><pre class=bg-gray-lt>
  &lt;select class="<strong>select</strong>">
    &lt;option>明月几时有&lt;/option>
    &lt;option>把酒问青天&lt;/option>
    &lt;option>不知天上宫阙&lt;/option>
    &lt;option>今昔是何年&lt;/option>
  &lt;/select>

</pre><br /><p class=article-title>文件选择</p><p># 使用自定义标记 <strong>&lt;m-file></strong></p><p class=text-in>采用将input控件透明化,覆盖在标题控件之上的办法.由一个外层DIV包含input-file控件,和一个说明标题.都使用绝对定位,其中,input-file控件位于标题控件之上,并且是透明的.选择文件后,文件名会显示在标签中,多个文件会用逗号隔开.</p><m-file></m-file><br /><m-file disabled></m-file><br /><p># 属性 <strong>inputFile</strong></p><pre class=bg-gray-lt>
  // 返回input file的dom对象.可以获取选择的文件对象.
  let file1 = document.getElementById('file1');
  
  inputFileDom = file1.<strong>inputFile</strong>;

  // 获取选中的第一个文件
  let files0 = inputFileDom.files[0]

</pre><br /><p># 属性 <strong>files</strong></p><pre class=bg-gray-lt>
  // 返回input file dom的files对象
  let file1 = document.getElementById('file1');
  
  // 获取选中的文件数组
  file1.files;

</pre><br /><p># 方法 <strong>reset()</strong></p><pre class=bg-gray-lt>
  // 重置组件,清空选择的文件
  file1.<strong>reset()</strong>;

</pre><br /><div class=grids><div class=grid-10><m-file tag=选择文件,一次选择不要超过5个. multiple id=fileDemo1 style=max-width:1000px></m-file></div><div class=grid-2><m-btn class=d-block onclick='document.getElementById("fileDemo1").reset()'>重置选择</m-btn></div></div><br /><p># 标签设置 <strong>tag</strong></p><p class=text-in>设置选择文件的提示语</p><p># 标签设置 <strong>multiple</strong></p><p class=text-in>支持多选文件</p><br /><pre class=bg-gray-lt>
  &lt;m-file id="fileDemo1">&lt;/m-file>
  
  &lt;m-file <strong>tag</strong>="选择文件,一次选择不要超过5个." <strong>multiple</strong>>&lt;/m-file>

  // 禁用
  &lt;m-file <strong>disabled</strong>>&lt;/m-file>

</pre><br /><p class=article-title>单选与复选</p><p># 使用自定义标记,复选 <strong>&lt;m-check></strong> 单选 <strong>&lt;m-radio></strong> ,添加样式类 <strong>.input-check</strong></p><div><m-check class=checked tag=复选框1 id=mcheckbox1></m-check><m-check class=mg-l-20 tag=复选框2></m-check><m-radio class="checked mg-l-20" name=radiogroup1 tag=单选框1></m-radio><m-radio class=mg-l-20 name=radiogroup1 tag=单选框2></m-radio><m-check class=mg-l-20 tag=复选框4 disabled></m-check><m-radio class=mg-l-20 name=radiogroup1 tag=单选框3 disabled></m-radio></div><br /><div class=grids-10><div><m-check class="primary checked" tag=复选框></m-check></div><m-radio class=primary name=radiogroup1 tag=单选框></m-radio><div><m-check class="danger checked" tag=复选框></m-check></div><m-radio class=danger name=radiogroup1 tag=单选框></m-radio><div><m-check class="success checked" tag=复选框></m-check></div><m-radio class=success name=radiogroup1 tag=单选框></m-radio><div><m-check class="info checked" tag=复选框></m-check></div><m-radio class=info name=radiogroup1 tag=单选框></m-radio><div><m-check class="warning checked" tag=复选框></m-check></div><m-radio class=warning name=radiogroup1 tag=单选框></m-radio></div><br /><div class=grids-10><m-radio class="primary text-lg" name=radiogroup1 tag=单选></m-radio><m-check class="primary checked text-lg" tag=复选></m-check><m-radio class="danger text-lg" name=radiogroup1 tag=单选></m-radio><m-check class="danger checked text-lg" tag=复选></m-check><m-radio class="success text-lg" name=radiogroup1 tag=单选></m-radio><m-check class="success checked text-lg" tag=复选></m-check><m-radio class="info text-lg" name=radiogroup1 tag=单选></m-radio><m-check class="info checked text-lg" tag=复选></m-check><m-radio class="warning text-lg" name=radiogroup1 tag=单选></m-radio><m-check class="warning checked text-lg" tag=复选></m-check></div><br /><p># 属性 <strong>checked</strong></p><p class=text-in>选中返回true,否则返回false</p><p># 属性 <strong>onClicked(fn)</strong></p><p class=text-in>点击切换后执行方法</p><p># 标签属性 <strong>tag</strong></p><p class=text-in>设置一个标题</p><p># 单选</p><p class=text-in>同一个父级下的多个单选框,设置相同的name属性,实现单选</p><p># 选中状态,大小,颜色</p><p class=text-in>添加 <strong>.checked</strong>样式,会展现选中状态,添加 primary,text-lg等工具样式调整颜色和大小</p><pre class=bg-gray-lt>
  // m-check复选,m-radio单选
  &lt;m-radio tag="单选框2">&lt;/m-radio>
  &lt;m-check class="checked" tag="复选框1">&lt;/m-check>

  // tag:设置标题
  &lt;m-check class="checked" <strong>tag</strong>="复选框1">&lt;/m-check>

  // 获取选中状态
  let check1 = document.getElementById('checkbox1');
  check1.<strong>checked</strong> // true / false

  // 执行方法
  check1.<strong>onClicked</strong> = (radio) => {
    // radio参数就是this对象
    radio.getAttribute('tag');
  }

  // 单选
  &lt;m-radio tag="单选框1" <strong>name</strong>="radiogroup1" >&lt;/m-radio>
  &lt;m-radio tag="单选框2" <strong>name</strong>="radiogroup1" >&lt;/m-radio>

  // 颜色和大小,选中状态
  &lt;m-check class="<strong>primary checked</strong> " tag="复选框1">&lt;/m-check>
  &lt;m-radio class="<strong>text-lg</strong>" tag="单选框2">&lt;/m-radio>

  // 禁用
  &lt;m-radio <strong>disabled</strong> tag="单选框2">&lt;/m-radio>

</pre><br /><p class=article-title>表单栅格布局</p><p>可以将表单元素放到栅格里,做横向布局.用栅格框分组表单元素</p><div class="grids mg-b-5 bg-gray-lt"><label class="form-label grid-1 text-center">姓名</label><input class="input-text grid-3" type=text name=name1 value=mirror /> <label class="form-label grid-1 text-center">Title</label><input class="input-text grid-3" type=text name=title1 value=搬砖家 /> <label class="form-label grid-1 text-center">爱好</label><m-check class="checked primary grid-1" tag=吃喝></m-check><m-check class="checked primary grid-1" tag=玩乐></m-check><m-check class="checked primary grid-1" tag=睡觉></m-check></div><div class="grids mg-b-5 bg-gray-lt"><label class="form-label text-center grid-1">国家</label><select class="select grid-2"><option>China</option><option>USA</option><option>UK</option></select><label class="form-label text-center grid-1">WebSite</label><input class="input-text grid-2" type=text name=name3 value=mirrortom.date /> <label class="form-label text-center grid-1">资料</label><m-file class="grid-3 bg-white"></m-file></div><br /><pre class=bg-gray-lt>
  &lt;div class="grids mg-b-5 bg-gray-lt">
    &lt;label class="form-label grid-1 text-center">姓名&lt;/label>
    &lt;input class="input-text grid-3" type="text" name="name1" value="mirror" />
    &lt;m-check class="checked primary grid-1" tag="睡觉">&lt;/m-check>
  &lt;/div>
  &lt;div class="grids g-gray-lt">
    &lt;label class="form-label text-center grid-1">国家&lt;/label>
    &lt;m-file class="grid-3 bg-white">&lt;/m-file>
  &lt;/div>

</pre><br /><p class=article-title>表单表格布局</p><p class=lead>纸质风格表单是模仿的传统表格式的风格,整个表单是一个大表格,里面按表单项合理布局.有外边框和表单项边框.</p><p>html结构组成:最外层是div.form-table 每一行是一个册格行div.grids,里面是表单项,添加册格类占用宽度.不必填满12册格.</p><p>这种实现办法,优点是类纸质传统风格,就像填写单据一样,习惯易用.缺点在于布局不够灵活,同一行的表单项必须高度一样,不像表格那样可以使用rowspan或colspan跨行列</p><p>这个例子使用现有的样式实现简易的版本,复杂的表格需要采用传统的table布局,还有新的display:grid布局完成.</p><div class="form-table text-center text-md"><div class=grids><label class="grid-1 form-label">姓名</label><input class="grid-1 input-text" value=苏轼 /> <label class="grid-1 form-label">字号</label><input class="grid-3 input-text" value=东坡居士、苏东坡、苏仙 /> <label class="grid-1 form-label">生卒</label><input class="grid-3 input-text" value=1037年1月8日—1101年8月24日 /> <label class="grid-1 form-label">谥号</label><input class="grid-1 input-text" value=文忠 /></div><div class=grids><label class="grid-1 form-label">成就</label><input class="grid-3 input-text" value=文学家、书法家、唐宋八大家 /> <label class="grid-1 form-label">官职</label><input class="grid-3 input-text" value=翰林学士、侍读学士、礼部尚书 /> <label class="grid-1 form-label">时代</label><input class="grid-1 input-text" value=北宋 /> <label class="grid-1 form-label">民族</label><input class="grid-1 input-text" value=汉 /></div><div class=grids><label class="grid-1 form-label">作品</label><input class="grid-4 input-text" value=《东坡七集》《东坡易传》《东坡乐府》 /> <label class="grid-1 form-label">名作</label><input class="input-text grid-4" value=《水调歌头·明月几时有》 /></div><div class=grids><label class="grid-1 form-label">苏东坡</label><textarea class="grid-11 textarea">明月几时有？把酒问青天。不知天上宫阙、今夕是何年？我欲乘风归去,又恐琼楼玉宇,高处不胜寒．起舞弄清影,何似在人间？ 转朱阁,低绮户,照无眠。不应有恨、何事长向别时圆？人有悲欢离合,月有阴晴圆缺,此事古难全。但愿人长久,千里共婵娟。</textarea></div></div><br /><pre class=bg-gray-lt>
  &lt;div class="<strong>form-table</strong> text-center">
    &lt;div class="grids">
      &lt;label class="grid-1 form-label">姓名&lt;/label>
      &lt;input class="grid-1 input-text" value="苏轼" />

      &lt;label class="grid-1 form-label">谥号&lt;/label>
      &lt;input class="grid-1 input-text" value="文忠" />
    &lt;/div>

    &lt;div class="grids">
      &lt;label class="grid-1 form-label">苏东坡&lt;/label>
      &lt;textarea class="grid-11 textarea">明月几时有？把酒问青天。...但愿人长久,千里共婵娟。&lt;/textarea>
    &lt;/div>
  &lt;/div>

</pre></div><div class=doc-part-box id=inputvalchange><h2>监听输入</h2><p># 使用自定义标记 &lt;m-inputwatch></p><p class=text-in>定时检测input输入框的值的变化,检测到变化时执行一个方法</p><p class=text-in>当输入内容发生变化时,提示与输入内容相关的数据.类似于搜索框的自动提示功能.</p><p class=text-in>可用于搜索数据时自动显示相关的内容,增加操作便捷性.</p><p class=text-in>input在获取焦点时触发监听,失去焦点时结束监听.定时器负责监听,如果发生变化,执行一个方法.</p><p class=text-in>对于中文输入时的状态问题,会监听compositionstart,compositionend两个事件,避免在中文输入过程中触发判断.</p><p># 以下测试输入一个字,筛选出包含这个字的结果</p><div class=grids><label class="form-label grid-1">搜索关键字</label><input class="input-text grid-4" is=m-inputwatch type=text name=name value="" id=inputvalchange1 /></div><br /><div class=grids><label class="grid-1 form-label">搜索结果</label><div class=grid id=alldatabox></div></div><br /><pre class=bg-gray-lt>

    // m-inputwatch 扩展自原生 input 标记,dom插入时仍然是 input.
    // 但是关键属性是 <strong>is="m-inputwatch"</strong> 这个表示 m-inputwatch 自定义标记是扩展自 input 的.
    &lt;input class="input-text grid-4" <strong>is="m-inputwatch"</strong> type="text" value="" id="inputvalchange1"/>
    
    // 
    let inputchange1 = document.getElementById('inputvalchange1');

    // 初始化方法: 绑定了几个监听事件
    // <strong>fn(val,input)</strong>: 监听到变化时,执行的方法.val: 当前input值, input: input的dom对象
    // timeout: 监听时间间隔,默认1秒
    inputchange1.<strong>init(fn,timeout)</strong>

</pre></div><script>(()=>{function t(n){for(var i="",t=0;t<n.length;t++)i+='<span class="label mg-5">'+n[t]+"<\/span>";document.getElementById("alldatabox").innerHTML=i}var n=["苹果","手机","电脑","安卓","手游","老干妈","苹果酱","安全","老子","干货","水果","电磁场","旅游","头脑","黄金","白金","黄帝","白色","白头山"];t(n);let i=document.getElementById("inputvalchange1");i.init(i=>{let u=[];for(var r=0;r<n.length;r++)n[r].indexOf(i)>-1&&u.push(n[r]);t(u)})})()</script><div class=doc-part-box id=pageload><h2>页面等待</h2><p>一个调整了字间距的页面等待动画,flex 布局,文字垂直水平居中,容器占满父元素.</p><p>使用 div 加上 pageload 类,添加内容文字.</p><div class=grids><div class="pageload text-lg bg-gray pd-10 grid">页面载入中...</div><div class="pageload text-lg text-warning pd-10 grid">Loading...</div><div class="pageload text-lg bg-primary pd-10 grid">请稍候...</div></div><br /><pre class=bg-gray-lt>

    &lt;div class="<b>pageload</b>">页面载入中...&lt;/div>

</pre></div><div class=doc-part-box id=menubar><h2>菜单条</h2><p class=lead>用于手机,模仿app菜单页面,右侧有个箭头的那种菜单</p><p>容器使用flex布局,两端对齐.直接子项目为2个,分别在左右两侧.</p><div style=width:100%;max-width:480px><div class=menubar><span>标题和箭头</span> <span class=arr></span></div><div class=menubar><div><span class=iconface>🍄</span> <span>带图标标题</span></div><span class=arr></span></div><div class=menubar><span>标题和副标题</span><div> <span>关闭数据</span> <span class=arr></span></div></div><div class=menubar><div><span class=iconface>🚯</span> <span>带图标标题和副标题</span></div><div><span>禁止丢垃圾</span> <span class=arr></span></div></div></div><br /><pre class=bg-gray-lt>
    // 标题和箭头,直接作为子项目
    &lt;div class="menubar">
      &lt;span>标题和箭头&lt;/span>
      &lt;span class="arr">&lt;/span>
    &lt;/div>

    // 带图标的,需要将标题和图标再套一层DIV
    &lt;div class="menubar">
      &lt;div>
        &lt;span class="iconface">🍄&lt;/span>
        &lt;span>带图标标题&lt;/span>
      &lt;/div>
      &lt;span class="arr">&lt;/span>
    &lt;/div>

    // 箭头和副标题也是套一层DIV
    &lt;div class="menubar">
      &lt;span>标题和副标题&lt;/span>
      &lt;div>
        &lt;span class="">关闭数据&lt;/span>
        &lt;span class="arr">&lt;/span>
      &lt;/div>
    &lt;/div>

</pre></div><div class=doc-part-box id=msgbox><h2>弹出框</h2><p># 原理来自研究bootstrap的弹出层.模仿实现三种系统弹出框alert confirm prompt</p><p class=article-title>alert</p><div><m-btn onclick='window.ns.msgbox.alert("点击了弹出框 msgbox.alert()")'>msgbox.alert()</m-btn><m-btn class="primary mg-l-10" onclick='window.ns.msgbox.alert("上方弹出 msgbox.alert()",null,"primary","top")'>msgbox.alert()</m-btn></div><br /><pre class=bg-gray-lt>

  // msgbox对象
  let msgbox = window.ns.<strong>msgbox</strong>;

  // 参数
  // <strong>txt</strong>: 要显示的文本内容,必选
  // <strong>onClosed</strong>: 点击确定后执行方法
  // <strong>btnStyle</strong>: 按钮主题样式,primary,success,danger,...
  // <strong>position</strong>: 弹出位置, <strong>center</strong> | top | bottom
  msgbox.<strong>alert('txt', [onClosed], [btnStyle], [position])</strong>

</pre><p class=article-title>confirm</p><div><m-btn onclick='window.ns.msgbox.confirm("点击了弹出框 msgbox.confirm()",confirmCall)'>msgbox.confirm()</m-btn> <span id=confirmRes class="label primary mg-l-10"></span></div><br /><pre class=bg-gray-lt>

  // msgbox对象
  let msgbox = window.ns.<strong>msgbox</strong>;

  // 参数
  // <strong>txt</strong>: 要显示的文本内容,必选
  // <strong>callback</strong>: 确定和取消都执行 callback(result), result: 确定 1,取消 0
  // <strong>btnStyle</strong>: 按钮主题样式,primary,success,danger,...
  // <strong>position</strong>: 弹出位置, <strong>center</strong> | top | bottom
  msgbox.<strong>alert('txt', [callback], [btnStyle], [position])</strong>

</pre><p class=article-title>prompt</p><div><m-btn onclick='window.ns.msgbox.prompt("输入内容: msgbox.prompt()",promptCall)'>msgbox.confirm()</m-btn> <span id=promptRes class="label primary mg-l-10"></span></div><br /><pre class=bg-gray-lt>

  // msgbox对象
  let msgbox = window.ns.<strong>msgbox</strong>;

  // 参数
  // <strong>txt</strong>: 要显示的文本内容,必选
  // <strong>callback</strong>: 确定和取消都执行 callback(result), result: 确定 '输入的字符', 取消 ''
  // <strong>btnStyle</strong>: 按钮主题样式,primary,success,danger,...
  // <strong>position</strong>: 弹出位置, <strong>center</strong> | top | bottom
  msgbox.<strong>alert('txt', [callback], [btnStyle], [position])</strong>

</pre><p class=article-title>自定义弹出层</p><p># 自定义框是一个HTML片段,弹出的本质是在将它显示在弹出层父级上</p><img src=img/msgboxlayer.png alt="" width=600 /><br /><m-btn class=mg-tb-10 onclick=showcustom()>弹出下面的HTML片段 msgbox.<strong>show</strong>('custom html')</m-btn><pre class=bg-gray-lt>

  &lt;div style="background-color:#eee;width:400px;border:1px solid #666;align-self:center;padding:15px">
      &lt;h3>自定义弹出层标题&lt;/h3>
      &lt;p>弹出框原理分析学习,模仿了系统的三种弹出框.实现弹出自定义html片段&lt;/p>
      &lt;p>自定义弹出框需要定义HTML以及按钮事件,然后调用msgbox.show()弹出&lt;/p>
      &lt;div class="text-center">&lt;m-btn onclick="window.ns.msgbox.close()">取消&lt;/m-btn>
      &lt;m-btn class="btn" onclick="window.ns.msgbox.close()">确定&lt;/m-btn>&lt;/div>
  &lt;/div>

    </pre><script>function confirmCall(n){let t=document.querySelector("#confirmRes");t.textContent=n==1?"确定(1)":"取消(0)"}function promptCall(n){let t=document.querySelector("#promptRes");t.textContent=n}function showcustom(){let n=`<div style="background-color:#eee;width:400px;border:1px solid #666;align-self:center;padding:15px">
    <h3>自定义弹出层标题</h3>
    <p>弹出框原理分析学习,模仿了系统的三种弹出框.实现弹出自定义html片段</p>
    <p>自定义弹出框需要定义HTML以及按钮事件,然后调用msgbox.show()弹出</p>
    <div class="text-center"><m-btn onclick="window.ns.msgbox.close()">取消</m-btn>
    <m-btn class="btn" onclick="window.ns.msgbox.close()">确定</m-btn></div>
  </div>`;window.ns.msgbox.show(n)}</script></div><div class=doc-part-box id=msgshow><h2>信息提示</h2><p>用于在页面上显示一个提示信息,可用于操作后返回一个结果说明.</p><p># 使用自定义标记 <strong>&lt;m-msgshow></strong> ,也可以使用div,结合样式类 .msgshow</p><m-msgshow class=mg-b-15 title=提示 msg=提示内容></m-msgshow><m-msgshow class="mg-b-15 danger" title=失败 msg=操作失败></m-msgshow><m-msgshow class="mg-b-15 info" title=提示 msg=提示信息></m-msgshow><m-msgshow class="mg-b-15 success text-lg" title=成功 msg=操作完成></m-msgshow><pre class=bg-gray-lt>

  &lt;<strong>m-msgshow</strong> class="mg-b-15" title="提示" msg="提示内容">&lt;/m-msgshow>

  // 结合主题样式类,显示不同风格
  &lt;m-msgshow class="mg-b-15 success text-lg" title="成功" msg="操作完成">&lt;/m-msgshow>

  // 用div时,里面的内容也需要写全
  &lt;div class="<strong>msgshow</strong>">&lt;span class="title">提示&lt;/span>&lt;span class="msg">提示内容&lt;/span>&lt;/div>

  &lt;div class="msgshow success text-lg">&lt;span class="title">成功&lt;/span>&lt;span class="msg">操作完成&lt;/span>&lt;/div>

</pre><br /><p># 标记属性</p><p class=text-in><strong>title</strong> 设置标题</p><p class=text-in><strong>msg</strong> 设置提示内容</p><p># 方法</p><p class=text-in>调用js方法显示4种场景风格提示框,以及自定义标题和内容.</p><div class=mg-tb-10><span class=btn-group><a class="btn success" id=msg1>ok()</a> <a class="btn info" id=msg11>info()</a> <a class="btn danger" id=msg2>err()</a> <a class="btn warning" id=msg3>warn()</a> <a class="btn text-white bg-black-lt" id=msg4>show()</a> <a class=btn id=msg5>clear()</a></span></div><m-msgshow id=msgshow1></m-msgshow><br /><pre class=bg-gray-lt>

  // 对象
  let msg1 = document.getElementById('msgshow1');

  // 成功
  msg1.<strong>ok</strong>('操作成功.');

  // 失败
  msg1.<strong>err</strong>('操作失败.');

  // 警告
  msg1.<strong>warn</strong>('非法操作.');

  // 自定义,最后一个参数是样式类,接收1个或者多个
  msg1.show(msg, title, ...style)
  msg1.<strong>show</strong>('自定义内容', '自定标题', 'text-white','bg-black-lt');

  // 清空 内容会清空,标记会隐藏
  msg1.clear();

</pre><script>(()=>{let n=document.getElementById("msgshow1");document.getElementById("msg1").onclick=()=>{n.ok("操作成功.")};document.getElementById("msg11").onclick=()=>{n.info("操作成功2.")};document.getElementById("msg2").onclick=()=>{n.err("操作失败.")};document.getElementById("msg3").onclick=()=>{n.warn("非法操作.")};document.getElementById("msg4").onclick=()=>{n.show("自定义内容","自定标题","text-white","bg-black-lt")};document.getElementById("msg5").onclick=()=>{n.clear()}})()</script></div><div class=doc-part-box id=datetime><h2>日期时间</h2><p>日期控件,兼容PC与手机端.js插件模式.支持日期和日期时间基本功能</p><div class="grids bg-gray text-center"><label class="form-label grid-1">日期</label><input class="grid-2 input-text" onclick=window.ns.myDatePick() type=text /> <label class="form-label grid-1">日期时间</label><input class="grid-3 input-text" onclick='window.ns.myDatePick({fmt:"datetime"})' type=text /></div><br /><pre class=bg-gray-lt>
  // 日期
  &lt;input onclick="window.ns.<strong>myDatePick()</strong>" type="text">

  // 日期时间
  &lt;input onclick="window.ns.<strong>myDatePick({fmt:'datetime'})</strong> type="text">

</pre><br /><p># 实现思路</p><p class=text-in>开始参考了火狐浏览器自带日期控件的样子.实现时,将日期看做一个四行七列的表格.首行为年月日今天按钮,第二行放星期,三行为日,四行为小时区.布局后,放入对应按钮,然后绑定各自事件</p><p class=text-in>控件的复杂处在于事件比较多,但js和css并没有太多难度,只是代码有点多而已.在判断当天所在月的日期时,需要一个计算,最终要算出这个月1号的前几天和最后一号的后几天,这些天就是当天所在月份的前一个月和后一个月的日期,用半透明颜色显示的.</p></div><div class=doc-part-box id=pagenum><h2>分页导航</h2><p># 使用自定义标记 <strong>&lt;m-pagenum></strong></p><p class=text-in>参考了天猫京东的分页条,最后设计成包含如下按钮.上一页,1页,当前页前几页,当前页,当前页后几页,最后页,下一页,总页数,跳转页输入框,确定按钮.</p><m-pagenum class=d-block id=pagenum1></m-pagenum><br /><m-pagenum class="d-block primary text-lg" id=pagenum2></m-pagenum><br /><pre class=bg-gray-lt>

  &lt;<strong>m-pagenum</strong> id="pagenum1">&lt;/m-pagenum>

  // 使用主题样式和字体大小工具样式
  &lt;m-pagenum class="<strong>primary text-lg</strong>" id="pagenum2">&lt;/m-pagenum>

 </pre><br /><p># 分页条特点:</p><p class=text-in>当前页码pageIndex,数据总数dataTotal,每页数据数量pageSize.总页数根据dataTotal和pageSize计算出来.</p><p class=text-in>分页条是一个状态机,当前页码改变时,状态就改变了,这时会重新生成分页条.</p><p class=text-in>可设置显示几个按钮,当前页码会位于中间,如果当前页码离首页和末页太远,显示省略号.</p><p># 方法</p><p class=text-in>create()</p><pre class=bg-gray-lt>
 
    let pgn1 = document.getElementById('pagenum1');

    // 配置
    let cfg = {
      // (必须) 当前页码 >0 由后端返回当前页码,或者页面记住当前请求页面 默认 1
      <strong>pageIndex</strong>: 1,

      // (必须) 总数 >0 由后端返回新的总数
      <strong>totalData</strong>: 96,

      // 每页数量 [5-50] 默认 10
      <strong>pageSize</strong>: 10,

      // 显示几个按钮[5-10] 默认 5
      <strong>totalBtn</strong>: 5
    }

    // 生成分页条
    // 分页条在请求数据后调用,从后端获得当前页码和数据总数.
    pgn1.<strong>create</strong>(cfg);

</pre><script>(()=>{let t=document.getElementById("pagenum1"),i=document.getElementById("pagenum2"),n={pageIndex:1,totalData:96,pageSize:10,totalBtn:5};t.create(n);n.pageIndex=4;n.totalData=169;n.pageSize=8;i.create(n)})(window)</script></div><div class=doc-part-box id=range><h2>范围滑块</h2><p>自定义滑动组件,比较常用的组件.</p><pre class=bg-gray-lt>

  &lt;m-range id="range1" width="600" min="0" max="100" val="0">&lt;/m-range>
  // dom属性,都可选
  width: 滑动条的长度
  min: 范围边界小值
  max: 范围边界大值
  val: 初始值
          
</pre><br /><p># 绑定了鼠标事件和触摸事件,按住滑块按钮拖动改变滑块的值.</p><p>事件绑定在容器元素上,没用绑定在滑块按钮上,为了实现当鼠标不在按钮上时,也能触发滑动事件.</p><br /><pre class=bg-gray-lt>

  // 绑定滑动事件,这个例子中,获取滑块的值,在canvas里绘制小方块的个数
  let crag1 = document.getElementById('range1');

  // val: 当前滑块的值
  crag1.<strong>onChange</strong> = (val)=>{

  }

</pre><br /><p># 设置滑块位置</p><pre class=bg-gray-lt>

  // num: 要设置的值,在[min,max]之间的值
  crag1.<strong>Value</strong> = num;

</pre><br /><m-range id=range1 width=600 min=0 max=100 val=0></m-range><br /><br /><canvas id=canvasrange1 style=background-color:#eee></canvas></div><script>(()=>{function h(t,r){for(var u=0,f=n.length;u<f;u++)if(t==n[u]&&r==i[u])return!0;return!1}function c(n){let t=parseInt(n/u),i=n%f;return[t,i]}function l(n,t,i,r,u){n.beginPath();n.fillRect(t,i,r,u)}function a(n,t){let i=Math.random()*(t-n);return Math.floor(i)+n}const v=window.ns.domHelp;let t=document.getElementById("canvasrange1"),r=t.getContext("2d");t.width=t.height=256;r.fillStyle="orange";let e=16,o=16,u=16,f=16,n=[],i=[],s=document.getElementById("range1");s.onChange=s=>{let y=s;n.length=i.length=0;for(let t=0;t<y;t++){let r=a(0,256),t=c(r);h(t[0],t[1])||(n.push(t[0]),i.push(t[1]))}r.clearRect(0,0,t.width,t.height);for(var v=0,p=n.length;v<p;v++){let t=n[v],s=i[v];l(r,t*e,s*o,f,u)}}})()</script><div class=doc-part-box id=sidemenu><h2>侧边菜单</h2><p># 使用自定义标记 <strong>&lt;m-sidemenu></strong></p><p class=text-in>位于页面左侧的主菜单,用于管理系统的页面导航.</p><p class=text-in>最外层是nav容器,包含ul列表,每个ul是一组菜单.ul里的li为菜单项容器.里面的a是菜单项,每个ul内第1个span是组标题.</p><p class=text-in>菜单项可以是超链接 a ,点击后跳转页面.也可以做成一个按钮,点击后执行一个方法.</p><div class=grids id=sidemenutestbox><div class="grid-2 pd-lr-10"><m-sidemenu class=bg-primary id=sidemenudemo2><ul class=sidemenu-group><li><span class=sidemenu-label>绑定事件<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item>菜单一(点击)</a></li><li><a class=sidemenu-item>菜单二</a></li><li><span class=sidemenu-split></span></li><li><a class=sidemenu-item>菜单三</a></li><li><a class=sidemenu-item>菜单四</a></li></ul></m-sidemenu></div><div class=grid><m-sidemenu class=bg-gray-lt id=sidemenudemo1 style=width:200px><ul class=sidemenu-group><li><span class=sidemenu-label>超长度<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item>菜单一</a></li><li><a class=sidemenu-item>菜单二</a></li><li><span class=sidemenu-split></span></li><li><a class=sidemenu-item>菜单三</a></li><li><a class=sidemenu-item>菜单四(如果菜单内容超过宽度,显示省略号)</a></li></ul></m-sidemenu></div></div><br /><pre class=bg-gray-lt>

  // DOM结构
  &lt;<strong>m-sidemenu</strong> class="sidemenu" id="main_menubox">
    // 一组菜单
    &lt;ul class="sidemenu-group">
      &lt;li>
        &lt;span class="sidemenu-label">组标题&lt;i class="sidemenu-arrdown">&lt;/i>&lt;/span>
      &lt;/li>
      &lt;li>&lt;a class="sidemenu-item" href="#grid">菜单项&lt;/a>&lt;/li>
      // 分割线
      &lt;li>&lt;b class="sidemenu-split">&lt;/b>&lt;/li>
    &lt;/ul>
    ...

  &lt;/<strong>m-sidemenu</strong>>

  // 调用create()方法,初始化菜单
  let sidemenu1 = document.getElementById('main_menubox');
  sidemenu1.<strong>create()</strong>;

</pre><br /><p># 方法 <strong>create(json, itemClickE)</strong></p><p class=text-in>生成菜单项,绑定事件.可以传入json对象,动态生成菜单项.</p><p><m-btn id=createsidemenu1>生成菜单</m-btn></p><m-sidemenu id=sidemenujsondeom1 class=bg-gray-lt style=width:200px></m-sidemenu><br /><pre class=bg-gray-lt>

    // josn结构: 菜单数据是一个数组,除了 <strong>title</strong> 外,其它都可以省略
    let menuJson =
      [
        // 每个元素是一个对象
        {
  <strong>title</strong>: '菜单组标题',
          // 菜单组标题的属性和样式
          props: { k: 'v', k1: 'v1' },
          styles: ['class1','class2']

          // 每组菜单项是一个数组
          menus: [
            {
  <strong>title</strong>: '菜单标题',
              // 菜单项dom的属性
              props: { href: '#url', name: 'name' },
              // 菜单项dom的样式
              styles: ['link','primary']
            },
            // 如果需要分割线
            { title: '-' }
          ]
        }
      ]
  
    // <strong>itemClickE(item, index)</strong>: 点击菜单后执行的方法.item是被点击的菜单dom对象,index是菜单索引
    // 这两个参数都可以省略.如果不需要使用数据生成菜单项.只绑定事件,不需要第1个参数,传(null,fun)
    
</pre><br /><p># 方法 <strong>activeItem(itemIndex)</strong></p><p class=text-in>指定一个激活的菜单,itemIndex 是菜单索引</p><pre class=bg-gray-lt>
    
    // 激活第三个菜单
    document.getElementById('sidemenudemo1').<strong>activeItem(2)</strong>;

</pre><br /><script>(()=>{document.getElementById("sidemenudemo1").create(),document.getElementById("sidemenudemo1").activeItem(2),document.getElementById("sidemenudemo2").create(null,(n,t)=>{window.ns.msgbox.alert(n.innerText+"index:"+t)}),document.getElementById("createsidemenu1").onclick=()=>{document.getElementById("sidemenujsondeom1").create([{title:"动态菜单1",props:{gid:"g1"},styles:["bg-danger-lt"],menus:[{title:"菜单A",props:{val:"aaa",menuId:"001",title:"第一个菜单"}},{title:"菜单B",props:{val:"bbb",menuId:"002"}},{title:"-"},{title:"菜单C一个比较长的名字,用于查询数据库",props:{val:"ccc",menuId:"003",title:"菜单C一个比较长的名字, 用于查询数据库"}},{title:"菜单D",props:{val:"ddd",menuId:"004"}},]},{title:"动态菜单2",styles:["bg-danger-lt"],menus:[{title:"菜单A1"},{title:"菜单B1"},{title:"-"},{title:"菜单C1"},{title:"菜单D1"},]}],(n,t)=>{window.ns.msgbox.alert(`menuId : ${n.getAttribute("menuId")}, menuIndex : ${t}`)})}})()</script></div><div class=doc-part-box id=mnavmenu><h2>底部菜单</h2><p># 使用自定义标记 <strong>&lt;m-mnavmenu></strong></p><p class=text-in>用于手机的底部导航菜单,模仿微信公众号那样的菜单.也可以是APP那种没有子菜单,图标加文字那种的.</p><div class=grids><div class=grid-4><iframe src=doc/mnavmenudemo.html style=width:360px;height:300px frameborder=1></iframe></div><div class=grid-4><iframe src=doc/mnavmenudemo1.html style=width:360px;height:300px frameborder=1></iframe></div><div class=grid-2><a class="val btn link" href=doc/mnavmenudemo.html target=_blank>新窗口查看-菜单</a> <a class="val btn link" href=doc/mnavmenudemo1.html target=_blank>新窗口查看-app导航</a></div></div><br /><pre class=bg-gray-lt>

  // 类微信菜单
  &lt;<strong>m-mnavmenu</strong>>

    // 菜单组之间分割线样式 split
    &lt;div class="mnavmenu-group split">
      &lt;ul class="mnavmenu-itembox close">
        &lt;li>&lt;a class="mnavmenu-item">菜单3&lt;/a>&lt;/li>

        // 子菜单之间分割线
        &lt;li>&lt;b class="mnavmenu-split">&lt;/b>&lt;/li>

        &lt;li>&lt;a class="mnavmenu-item">菜单4&lt;/a>&lt;/li>
      &lt;/ul>
      &lt;span class="mnavmenu-label">≡菜单二&lt;/span>
    &lt;/div>
    ...
  &lt;/m-mnavmenu>

</pre><br /><pre class=bg-gray-lt>

  // 类app下方导航
  &lt;<strong>m-mnavmenu</strong>>
    &lt;div class="mnavmenu-group">
      &lt;span class="mnavmenu-menu">&lt;span class="d-block">🏝&lt;/span>旅游&lt;/span>
    &lt;/div>
    ...
  &lt;/m-mnavmenu>

</pre><br /><p># 方法 <strong>create(fn)</strong> 生成菜单,fn 点击菜单执行方法</p><p># 方法 <strong>activeItem(itemIndex)</strong> 指定一个激活的菜单,itemIndex 是菜单索引</p><pre class=bg-gray-lt>

    let mnav1 = document.getElementById('mnavmenu1');
    
    // item: 当前点击的菜单dom
    // index: 当前点击的菜单dom索引
    mnav1.<strong>create</strong>((item, index) => {
      window.ns.msgbox.alert(item.innerHTML + '  index: ' + i);
    });

    // index 的顺序是,左边第一组菜单的最上面那个菜单为0,开始,到最右边最下面那个菜单.
    // 方法: 点击一个菜单
    mnavmenu1.<strong>activeItem(0)</strong>
    
</pre></div><div class=doc-part-box id=mdirbar><h2>顶部导航</h2><p>用于手机的顶部导航,有一个回退键,和标题.模仿app的顶部状态条.</p><p>载入页面时,组件缓存当前页面,载入新页面.按回退键时,从缓存中取出页面显示.</p><div class=grids><div class="grid-6 grid-md-4"><iframe src=doc/mdirbardemo.html style=width:360px;height:300px frameborder=1></iframe></div><div class=grid-2><a class="val btn link" href=doc/mdirbardemo.html target=_blank>新窗口查看</a></div></div><br /><pre class=bg-gray>
  &lt;div id="mdirbarbox" class="mdirbar">
      &lt;a class="back">&lt;/a>
      &lt;span class="title text-overflow">第一页&lt;/span>
      &lt;a>&lt;/a>
  &lt;/div>

</pre><br /><p># 功能与特点</p><p class=text-in>点击底部菜单时,缓存当前页面,显示新页面.如果菜单已经打开过,它的缓存位置调整到缓存数组最后.当前页面永远在缓存数组末尾.</p><p class=text-in>返回按钮:返回到缓存数组的倒数第2个位置的页面.并且其后的缓存会删除.</p><p class=text-in>当前活动页面不缓存,页面由缓存到显示后,其对应缓存的dom属性为null</p><p class=text-in>缓存页面使用document.createDocumentFragment,加入其中的DOM会从当前文档中脱离.</p><p class=text-in>缓存数组元素对象:{pid:页面id,title:页面标题,dom:页面缓存(当前页面为null)}</p><br /><pre class=bg-gray-lt>

    // 实例化组件对象
    // 需要提供导航条容器对象,还有内容容器对象
    let barbox = document.getElementById("mdirbarbox");
    let contbox = document.getElementById("content");

    // 实例化
    let mbar = <strong>mdirbar</strong>(barbox, contbox);

    // 主要方法:load(pid, title, onload),{pid:菜单唯一标识,title:选项卡标题,onload:载入时执行}, 
    // 点击底部菜单时,调用此方法
    // pid不能重复,每个菜单一个pid,可以在绑定菜单点击方法时,统一分配.
    let cacheDoms = cpg.load(pid, title, onload);

    // onload(loadType)方法
    // 调用load()方法后,可以执行这个方法,loadType的值如下.当loadType==3时,可以做新页面载入操作
    // loadType=1: 菜单是当前页面
    // loadType=2: 菜单之前载入过
    // loadType=3: 是新载入菜单,其对应的页面没有载入过,需要做载入新页面的操作
    
    // back(onback),在回退完成后调用onback(type)方法,type=-1时,页面只有一页了,不能再退
    // 这是回退按钮执行的方法,手工调用时,可以执行一个方法.
    mbar.back((type)=>{
        if(type==-1)
            msgbox.alert('已经不能退了!');
    })

</pre></div><div class=doc-part-box id=tabs><h2>选项卡</h2><p>切换选项卡,显示相应页面.是容器组件</p><p>单击或者鼠标移入选项卡,激活该选项页.选项卡与页由索引顺序相关联,例如:激活第2个选项卡时,则激活第2个面板.</p><p>当前活动的选项卡和对应页面有类名<b>active</b>,class="tabs-label active" class="tabs-panel active" 默认第1个是激活的</p><div id=mytabs1 class=tabs-box><div class=tabs-header><span class=tabs-label>苏轼</span> <span class=tabs-label>陆游</span> <span class=tabs-label>李清照</span></div><div class=tabs-panel><h5>饮湖上初晴后雨二首·其二</h5><p>水光潋滟晴方好</p><p>山色空蒙雨亦奇</p><p>欲把西湖比西子</p><p>淡妆浓抹总相宜</p></div><div class=tabs-panel><h5>卜算子 咏梅</h5><p>驿外断桥边,寂寞开无主</p><p>已是黄昏独自愁,更著风和雨</p><p>无意苦争春,一任群芳妒</p><p>零落成泥碾作尘,只有香如故</p></div><div class=tabs-panel><h5>一剪梅 红藕香残玉蕈秋</h5><p>红藕香残玉蕈秋,轻解罗裳,独上兰舟</p><p>云中谁寄锦书来,雁字回时,月满西楼</p><p>花自飘零水自流,一种相思,两处闲愁</p><p>此情无计可消除,才下眉头,却上心头</p></div></div><br /><p># 鼠标划入切换</p><div id=mytabs3 class=tabs-box><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>选项3</span></div><div class=tabs-panel>鼠标划入切换onmouseenter</div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>选项3-内容</div></div><br /><p># 选项卡标签均分</p><p class=text-in>选项卡平均整行,加上full类. <strong>class="tabs-box full"</strong></p><div id=mytabs2 class="tabs-box full"><div class=tabs-header><span class=tabs-label>卓文君</span> <span class=tabs-label>上官婉儿</span> <span class=tabs-label>秦观</span></div><div class=tabs-panel><h5>白头吟</h5><p>皑如山上雪 皎若云间月 闻君有两意 故来相决绝,今日斗酒会 明旦沟水头 躞蹀御沟上 沟水东西流</p><p>凄凄复凄凄 嫁娶不须啼 愿得一心人 白头不相离,竹竿何袅袅 鱼尾何簁簁 男儿重意气 何用钱刀为</p></div><div class=tabs-panel><h5>彩书怨</h5><p>叶下洞庭初 思君万里余 露浓香被冷 月落锦屏虚</p><p>欲奏江南曲 贪封蓟北书 书中无别意 惟怅久离居</p></div><div class=tabs-panel><h5>鹊桥仙 纤云弄巧</h5><p>纤云弄巧 飞星传恨 银汉迢迢暗度 金风玉露一相逢 便胜却人间无数</p><p>柔情似水 佳期如梦 忍顾鹊桥归路 两情若是久长时 又岂在朝朝暮暮</p></div></div><br /><p># 主题颜色</p><div id=mytabs_primary class="tabs-box primary"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>区别</span></div><div class=tabs-panel>添加样式 <b>class="tabs-box primary"</b></div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>区别在于选项卡标签的颜色,还有标签和面板分界线的颜色</div></div><br /><div id=mytabs_danger class="tabs-box danger"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>区别</span></div><div class=tabs-panel>添加样式 <b>class="tabs-box danger"</b></div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>区别在于选项卡标签的颜色,还有标签和面板分界线的颜色</div></div><br /><div id=mytabs_success class="tabs-box success"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>区别</span></div><div class=tabs-panel>添加样式 <b>class="tabs-box success"</b></div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>区别在于选项卡标签的颜色,还有标签和面板分界线的颜色</div></div><br /><div id=mytabs_info class="tabs-box info"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>区别</span></div><div class=tabs-panel>添加样式 <b>class="tabs-box info"</b></div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>区别在于选项卡标签的颜色,还有标签和面板分界线的颜色</div></div><br /><div id=mytabs_warning class="tabs-box warning"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>区别</span></div><div class=tabs-panel>添加样式 <b>class="tabs-box warning"</b></div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>区别在于选项卡标签的颜色,还有标签和面板分界线的颜色</div></div><br /><br /><p># 列表形式</p><p class=text-in>加上list类 class="tabs-box list"</p><div id=mytabs_list class="tabs-box list"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>选项3</span></div><div class=tabs-panel>选项1-竖直排列的选项卡标签</div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>选项3-内容</div></div><br /><pre class=bg-gray-lt>

    &lt;div id="mytabs1" class="tabs-box">
        &lt;div class="tabs-header">
            &lt;span class="tabs-label">苏轼&lt;/span>
            &lt;span class="tabs-label">陆游&lt;/span>
            &lt;span class="tabs-label">李清照&lt;/span>
        &lt;/div >
        &lt;div class="tabs-panel">...&lt;/div>
        &lt;div class="tabs-panel">...&lt;/div >
        &lt;div class="tabs-panel">...&lt;/div >
    &lt;/div>

    // js调用,传入tabs的id.默认激活0位置面板
    window.ns.<strong>tabs</strong>('mytabs1');

    // 切换方式(参数3) 1=点击 2=鼠标移入
    window.ns.tabs('mytabs1',0,2);

    // 指定第2个面板激活,索引从0开始
    window.ns.tabs('mytabs1',1);

</pre><br /><p># 事件</p><p>tab1.<b>onTabActive(tabLabel)</b></p><p>选项卡激活后执行事件,tabLabel是选项卡标签的dom对象</p><pre class=bg-gray-lt>

  let tabs1 = tabs('mytabs1');
  tabs1.onTabActive = (tabLabel) => {
    msgbox.alert('激活面板标题是: ' + tabLabel.innerTEXT);
  }

</pre><br /><div id=mytabs_onevent class=tabs-box><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>选项3</span></div><div class=tabs-panel>选项1-内容</div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>选项3-内容</div></div><br /><p># 方法</p><div id=mytabs_method class="tabs-box success"><div class=tabs-header><span class=tabs-label>选项1</span> <span class=tabs-label>选项2</span> <span class=tabs-label>选项3</span></div><div class=tabs-panel>选项1-内容</div><div class=tabs-panel>选项2-内容</div><div class=tabs-panel>选项3-内容</div></div><table class=table><tr><td>tab1.<b>activeTab(index)</b></td><td><a class=btn id=tab2activeTab>激活选项2</a></td><td>激活选项卡,index是选项卡索引</td></tr><tr><td>tab1.<b>addTab(title, index)</b></td><td><a class=btn id=tab2addTab>添加选项卡到第2位置</a></td><td>添加一个选项卡. title:选项卡标题, index:添加到这个索引位置,默认加到最后</td></tr><tr><td>tab1.<b>delTab(index, tagType)</b></td><td><a class=btn id=tab2delTab>删除第2位置的选项卡</a></td><td>删除一个选项卡. index:要删除的选项卡索引或pid.tagType:'index'(默认) | 'pid'(表示index指的是pid值)</td></tr><tr><td>tab1.<b>getCount()</b></td><td><a class=btn id=tab2getCount>选项卡个数</a></td><td>返回选项卡个数</td></tr></table><script>(()=>{let n=window.ns.tabs;n("mytabs1");n("mytabs2",1,1);n("mytabs3",0,2);let r=["primary","danger","success","info","warning"];for(var i=0;i<r.length;i++){let t="mytabs_"+r[i];n(t,i)}n("mytabs_list");let u=n("mytabs_onevent");u.onTabActive=n=>{window.ns.msgbox.alert("激活面板标题:"+n.innerText)};let t=n("mytabs_method");document.getElementById("tab2activeTab").onclick=()=>{t.activeTab(1)};document.getElementById("tab2addTab").onclick=()=>{t.addTab("添加到第二个位置"+t.getCount(),1)};document.getElementById("tab2delTab").onclick=()=>{t.delTab(1)};document.getElementById("tab2getCount").onclick=()=>{window.ns.msgbox.alert("选项卡总数: "+t.getCount())}})()</script></div><div class=doc-part-box id=cachepage><style>.cachepagedemo{border:1px solid #eee;max-width:90%}.leftbox{display:inline-block;width:100px;min-width:100px;vertical-align:top}#main_menu1 a{cursor:pointer}#main_menu1 a:active{color:#f00}.main{display:inline-block;width:80%;vertical-align:top}</style><h2>CachePage</h2><p># 缓存页,在页面间切换.每显示一个页面时,缓存当前的页面.</p><div id=cachethemebox><span class="label mg-r-10">主题</span><m-radio tag=default class=checked name=radiogroup1 id=cache_def></m-radio><m-radio tag=primary class=primary name=radiogroup1 id=cache_primary></m-radio><m-radio tag=danger class=danger name=radiogroup1 id=cache_danger></m-radio><m-radio tag=success class=success name=radiogroup1 id=cache_success></m-radio><m-radio tag=info class=info name=radiogroup1 id=cache_info></m-radio><m-radio tag=warning class=warning name=radiogroup1 id=cache_warning></m-radio></div><br /><div class=cachepagedemo><div class=leftbox><span class="label mg-5">管理系统</span><ul id=main_menu1 class="list num"></ul></div><div class=main><div id=tabsbox1></div><div id=mainbox></div></div></div><br /><p># 实现逻辑</p><p class=text-in>使用 document.createDocumentFragment() 这个方法,将当前页面移到 "片段"中,"片段"并不在 document 中,所以不会引起混乱.保持一个对它的引用,在显示曾经打开过的页面时, 再添加到 document 中即可.如此可实现不用 iframe 的方案.</p><p class=text-in>组件有3部分一起工作,选项卡(每个选项卡表示一个页面),页面容器(显示页面内容),菜单(对应页面来源).</p><p class=text-in>组件只包含选项卡部分,菜单和内容容器部分是自由定义的</p><p class=text-in>选项卡html内容由js生成,但是外层DIV容器需要写出</p><p class=text-in>换主题色,在选项卡html容器上加 primary , success , danger</p><pre class=bg-gray-lt>

  &lt;div class="tabsbox <b>primary</b>" id="tabsbox1">
      // 向左按钮
      &lt;a class="tabsbox-left">&lt;/a>

      // 导航区
      &lt;nav class="tabsbox-navbox">&lt;div class="tabsbox-nav">&lt;/div>&lt;/nav> 

      // 向右按钮
      &lt;a class="tabsbox-right">&lt;/a>

      // 功能按钮组
      &lt;span class="tabsbox-menutitle">功能&lt;/span>
      &lt;div class="tabsbox-menugroup">
          &lt;span class="tabsbox-goto-active">定位当前页&lt;/span>
          &lt;span class="tabsbox-close-all">关闭全部&lt;/span>
          &lt;span class="tabsbox-close-other">关闭其它&lt;/span>
      &lt;/div>
  &lt;/div>

        </pre><br /><p># 功能与特点</p><p class=text-in>点击左侧菜单时,缓存当前页面,新增选项卡,显示新页面.如果菜单已经打开过,则从缓存中取出显示,激活这个菜单对应的选项卡.</p><p class=text-in>导航按钮:每个选项卡对应一个缓存页面,当选项卡超出可视范围后,使用前进后退按钮滚动选项卡框</p><p class=text-in>当被点击的选项卡靠近选项卡框的两端,则调整该选项卡到中间位置</p><p class=text-in>关闭所有选项卡.关闭除活动选项卡外的.定位当前活动选项卡,当其不在可视范围内时.</p><p class=text-in>当前活动页面不缓存,页面由缓存到显示后,其对应缓存会删除(设置为null)</p><p class=text-in>缓存页面使用document.createDocumentFragment,加入其中的DOM会从当前文档中脱离.用以替代经典的iframe方法</p><p class=text-in>经过测试,一个填写过的表单页面在放入文档片段对象之后,再取出来时,其状态不变.</p><p># 用途</p><p class=text-in>该功能用于一个经典的场景,在管理系统中,左侧菜单,右侧显示页面.点击左侧菜单时,打开多个页面.</p><p class=text-in>为了避免页面冲突,通常是使用iframe来解决的,如果不希望用iframe,可以使用这个办法.</p><p># 用法</p><p class=text-in>在点击菜单时,调用cachepage.load方法,会将当前活动页面加入到缓存中,然后显示菜单对应页面到显示区</p><pre class=bg-gray-lt>

  // 新建实例,tabsDom:选项卡容器DOM,contDom:显示内容的容器DOM
  let cpg = window.ns.cachepage(tabsDom, contDom);

  // load方法,{pid:菜单唯一标识,title:选项卡标题}, 
  // <strong>点击左侧菜单时,调用此方法</strong>
  // pid不能重复,每个菜单一个pid,可以在绑定菜单点击方法时,统一分配.
  let cacheDoms = cpg.load(pid, title);

  // 事件: <b>cachepage.onNewPageLoad(handler)</b>
  // 载入新页面后执行 (pid:新页面的id, title:新页面标题, contDom:页面容器)=>{}
  cachepage.onNewPageLoad((pid, title, contDom)=>{
    // 在这个事件里实现加载新页面的功能
    contDom.innerHTML = pageHtml;
  });

  // 事件: <b>cachepage.onPageBeforeChange(handler)</b>
  // 页面切换前执行 (pid:切换页面的id)=>{}
  cachepage.onPageBeforeChange((pid) => {
      // 点击选项卡切换页面时执行,这时将要切换的页面还没有显示
      console.log('即将切换到的页面id是: ' + pid);
  });

  // 事件: <b>cachepage.onPageChanged(handler)</b>
  // 切换页面后执行 (pid:切换页面的id)=>{}
  cachepage.onPageChanged = ((pid) => {
    console.log('切换到的页面id是: ' + pid);
  });

  // 事件: <b>cachepage.onPageClosed(handler)</b>
  // 页面关闭后执行 (pid:关闭页面的id)=>{}
  cachepage.onPageChanged = ((pid) => {
    console.log('关闭的页面id是: ' + pid);
  });

</pre><br /><p># 经典布局结构</p><p class=text-in>缓存页组件可用于导航.信息管理系统的经典布局就是左变菜单,右边内容,右边上面缓存打开的页面,点击可以切换.</p><p class=text-in>HTML结构如下:左侧菜单,右侧分为2部分,上面是选项卡,下面是内容区 <a class="btn text-primary link" href=doc/cachepagedemo1.html target=_blank>新窗口示例</a></p><pre class=bg-gray-lt>

  &lt;div class="container">

    &lt;div class="left">&lt;ul>菜单区域&lt;/ul>&lt;/div>

    &lt;div class="right">
      &lt;div class="tabsbox">选项卡区域&lt;/div>
      &lt;div>内容区域&lt;/div>
    &lt;/div>

  &lt;/div>

</pre><script>(()=>{let f=document.getElementById("tabsbox1"),e=document.getElementById("mainbox"),t=window.ns.cachepage(f,e);t.onNewPageLoad((n,t,i)=>{i.innerHTML="",i.innerHTML=`<h1 class="mg-30">${t}</h1>`});t.onPageChanged(n=>{console.log("切换到的页面id是: "+n)});let i=["MainPage","人员管理","部门管理","订单管理","资料管理","报表管理","信息查询","日志查询","财务会计","权限设置","系统设置"],r=document.createDocumentFragment();for(var n=0;n<i.length;n++){let f=document.createElement("li"),u=document.createElement("a");u.innerText=i[n];let e=n;u.onclick=()=>{t.load(e+"id",i[e])};f.append(u);r.append(f)}let u=document.getElementById("main_menu1");u.append(r);u.querySelector("a").click();document.getElementById("cachethemebox").querySelectorAll("m-radio").forEach(n=>{n.onClicked=n=>{let i=n.getAttribute("tag"),t=document.getElementById("tabsbox1");t.classList.remove("primary","success","danger","info","warning");t.classList.add(i)}})})()</script></div><div class=doc-part-box id=design_form><h2>表单设计</h2><p>表单一直是重点,应用系统中更是如此.表单填写是工作人员最不喜欢的工作之一,因为很没意思.看到一大堆要填写还可能填错的东西,马上失去耐心.</p><p>在设计上减少工作人员的反感程度,可以从表单外观样式,填写方便程度这两点来改进.</p><p class=article-title>纸质风格</p><p>不同行业不同业务场景的表单不会完全一样,在样式上应该都尽量简洁明了.可以参考传统纸质风格的表单样子</p><p>传统纸质风格的单子,就是一个表格,里面有各种要填写的信息和标题.依照这种风格实现电子版本的话,工作人员</p><p>看起来就很熟悉,在计算机上操作填写时,感觉如同拿笔填写一样.不用改习惯,学习使用成本非常低.</p><p class=article-title>少填多选</p><p>填写需要打字,很麻烦,如果是选项就轻松了.可以提供一些常用选项,选项可以是常量也可以从接口获取.</p><p>在表单后面做一个选择框,选择后填入文本框</p><div class=grids><label class="input-label grid-1">常吃水果</label><input class="input-text grid-2" id=formdesigninput1 type=text value="" placeholder=输入经常吃的水果 /><select class="select grid-2" id=formdesignselect1><option value="">不吃</option><option>苹果</option><option>桔子</option><option>香蕉</option><option>西瓜</option></select></div><p class=article-title>输入框和标签</p><p>标签是对输入框的用途说明,标签放在输入框的上面比较好,一行只放一个表单项.在手机上也可以兼容.</p><p>在表单项比较多时,可能不希望页面太长要往下滚动,所有就把一些长度小的表单项放在一行里,标签和输入框显示在一行,</p><p>这个也没有问题,只要做到每行整齐,比如每行3个表单项,看起来也不会乱.</p><div class=mg-b-20><label class=input-label>项目1</label><input class=input-text type=text value="" /> <label class=input-label>项目2</label><input class=input-text type=text value="" /> <label class=input-label>项目3</label><input class=input-text type=text value="" /></div><div class=mg-b-20><div class=grids><label class="input-label grid-1">项目1</label><input class="input-text grid-2 mg-r-10" type=text value="" /> <label class="input-label grid-1">项目2</label><input class="input-text grid-2 mg-r-10" type=text value="" /> <label class="input-label grid-1">项目3</label><input class="input-text grid-2" type=text value="" /></div></div><div class="grids mg-b-20"><div class="grid-3 mg-r-10"><label class=input-label>项目1</label><input class=input-text type=text value="" /></div><div class="grid-3 mg-r-10"><label class=input-label>项目2</label><input class=input-text type=text value="" /></div><div class=grid-3><label class=input-label>项目3</label><input class=input-text type=text value="" /></div></div><p class=article-title>分组</p><p>分组是个好办法,当表单项太多时,怎么排列都超过一屏幕,必须滚动了,假如有几十个,每组分10个以内,这样也会减少多而乱的感觉.</p></div><script>(()=>{let n=document.getElementById("formdesignselect1"),t=document.getElementById("formdesigninput1");n.onchange=()=>{let r=n.selectedIndex,i=n.options[r].innerText;i=="不吃"&&(i="");t.value=i}})()</script></div></div><script>function chgtheme(n){let t=themeColors(n);for(let n in t){if(t[n].length<3){document.documentElement.style.setProperty(`--${n.replace("_","-")}`,t[n][0]);continue}document.documentElement.style.setProperty(`--${n}`,t[n][1]);document.documentElement.style.setProperty(`--${n}se`,t[n][2]);document.querySelector(`#themecolorshowbox td.bg-${n}lt`).innerHTML=t[n][0];document.querySelector(`#themecolorshowbox td.bg-${n}`).innerHTML=t[n][1];document.querySelector(`#themecolorshowbox td.bg-${n}se`).innerHTML=t[n][2]}}function chgfontsize(n){document.documentElement.style.setProperty("--font-size",n+"px")}function themeColors(n){return n=="sky"?{font_color:["#2D3748"],body_bgcolor:["#fff"],gray:["#EDF2F7","#CBD5E0","#718096"],primary:["#EBF8FF","#90CDF4","#4299E1"],success:["#C6F6D5","#68D391","#38A169"],danger:["#FC8181","#E53E3E","#9B2C2C"],info:["#C3DAFE","#7F9CF5","#5A67D8"],warning:["#FEEBC8","#F6AD55","#DD6B20"]}:n=="dark"?{font_color:["#E2E8F0"],body_bgcolor:["#2D3748"],gray:["#A0AEC0","#4A5568","#1A202C"],primary:["#A0AEC0","#4A5568","#1A202C"],success:["#48BB78","#2F855A","#22543D"],danger:["#F56565","#C53030","#742A2A"],info:["#4299E1","#2B6CB0","#2A4365"],warning:["#ED8936","#C05621","#7B341E"]}:n=="teal"?{font_color:["#2D3748"],body_bgcolor:["#fefefe"],gray:["#EDF2F7","#CBD5E0","#718096"],primary:["#B2F5EA","#4FD1C5","#319795"],success:["#9AE6B4","#48BB78","#2F855A"],danger:["#FEB2B2","#F56565","#C53030"],info:["#A3BFFA","#667EEA","#4C51BF"],warning:["#FBD38D","#ED8936","#C05621"]}:n=="pink"?{font_color:["#2D3748"],body_bgcolor:["#fefefe"],gray:["#eef1f3","#dee2e6","#b7c0c9"],primary:["#FED7E2","#F687B3","#D53F8C"],success:["#C6F6D5","#68D391","#38A169"],danger:["#FED7D7","#FC8181","#E53E3E"],info:["#BEE3F8","#63B3ED","#3182CE"],warning:["#FEFCBF","#F6AD55","#DD6B20"]}:{font_color:["#343a40"],body_bgcolor:["#fff"],gray:["#eef1f3","#dee2e6","#b7c0c9"],primary:["#b3e6b3","#6c6","#44c144"],success:["#85e29a","#28a745","#228e3b"],danger:["#ee9aa2","#dc3545","#c62232"],info:["#78deee","#17a2b8","#148a9c"],warning:["#ffe083","#ffc107","#dfa700"]}}let sidemenu1=document.getElementById("main_menubox").create()</script></body></html>